(self.webpackChunk_ng_components_source=self.webpackChunk_ng_components_source||[]).push([[6451],{"./projects/chart/src/chart/stories/Chart.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,bandChart:()=>bandChart,basicChart:()=>basicChart,default:()=>Chart_stories,draggableChart:()=>draggableChart});var chart_component=__webpack_require__("./projects/chart/src/chart/chart/chart.component.ts");const src_int=function sourceRandomInt(source){function randomInt(min,max){return arguments.length<2&&(max=min,min=0),min=Math.floor(min),max=Math.floor(max)-min,function(){return Math.floor(source()*max+min)}}return randomInt.source=sourceRandomInt,randomInt}(Math.random),cssColorNames=["#F0F8FF","#FAEBD7","#00FFFF","#7FFFD4","#F0FFFF","#F5F5DC","#FFE4C4","#000000","#FFEBCD","#0000FF","#8A2BE2","#A52A2A","#DEB887","#5F9EA0","#7FFF00","#D2691E","#FF7F50","#6495ED","#FFF8DC","#DC143C","#00FFFF","#00008B","#008B8B","#B8860B","#A9A9A9","#A9A9A9","#006400","#BDB76B","#8B008B","#556B2F","#FF8C00","#9932CC","#8B0000","#E9967A","#8FBC8F","#483D8B","#2F4F4F","#2F4F4F","#00CED1","#9400D3","#FF1493","#00BFFF","#696969","#696969","#1E90FF","#B22222","#FFFAF0","#228B22","#FF00FF","#DCDCDC","#F8F8FF","#FFD700","#DAA520","#808080","#808080","#008000","#ADFF2F","#F0FFF0","#FF69B4","#CD5C5C","#4B0082","#FFFFF0","#F0E68C","#E6E6FA","#FFF0F5","#7CFC00","#FFFACD","#ADD8E6","#F08080","#E0FFFF","#FAFAD2","#D3D3D3","#D3D3D3","#90EE90","#FFB6C1","#FFA07A","#20B2AA","#87CEFA","#778899","#778899","#B0C4DE","#FFFFE0","#00FF00","#32CD32","#FAF0E6","#FF00FF","#800000","#66CDAA","#0000CD","#BA55D3","#9370DB","#3CB371","#7B68EE","#00FA9A","#48D1CC","#C71585","#191970","#F5FFFA","#FFE4E1","#FFE4B5","#FFDEAD","#000080","#FDF5E6","#808000","#6B8E23","#FFA500","#FF4500","#DA70D6","#EEE8AA","#98FB98","#AFEEEE","#DB7093","#FFEFD5","#FFDAB9","#CD853F","#FFC0CB","#DDA0DD","#B0E0E6","#800080","#663399","#FF0000","#BC8F8F","#4169E1","#8B4513","#FA8072","#F4A460","#2E8B57","#FFF5EE","#A0522D","#C0C0C0","#87CEEB","#6A5ACD","#708090","#708090","#FFFAFA","#00FF7F","#4682B4","#D2B48C","#008080","#D8BFD8","#FF6347","#40E0D0","#EE82EE","#F5DEB3","#FFFFFF","#F5F5F5","#FFFF00","#9ACD32"];var series_type=__webpack_require__("./projects/chart/src/chart/model/enum/series-type.ts"),fill_type=__webpack_require__("./projects/chart/src/chart/model/enum/fill-type.ts"),tooltip_tracking=__webpack_require__("./projects/chart/src/chart/model/enum/tooltip-tracking.ts"),chart_bounds=__webpack_require__("./projects/chart/src/chart/model/chart-bounds.ts"),brush_type=__webpack_require__("./projects/chart/src/chart/model/enum/brush-type.ts"),zoom_type=__webpack_require__("./projects/chart/src/chart/model/enum/zoom-type.ts"),faker=__webpack_require__("./node_modules/faker/index.js"),drag_point_type=__webpack_require__("./projects/chart/src/chart/model/enum/drag-point-type.ts"),zoom_behavior_type=__webpack_require__("./projects/chart/src/chart/model/enum/zoom-behavior-type.ts"),scale_type=__webpack_require__("./projects/chart/src/chart/model/enum/scale-type.ts"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var band_series_componentngResource=__webpack_require__("./projects/chart/src/chart/stories/bandseries/band-series.component.scss?ngResource"),band_series_componentngResource_default=__webpack_require__.n(band_series_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),series_base_component=__webpack_require__("./projects/chart/src/chart/base/series-base.component.ts");let BandSeriesComponent=class BandSeriesComponent extends series_base_component.c{};BandSeriesComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"svg:svg[teta-band-series]",template:'@if ({ x: x(), y: y() }; as scales) {\n  @for (band of series().data; track $index) {\n    <svg:rect\n      [attr.x]="scales.x(band.x)"\n      [attr.y]="scales.y(band.y) - scales.y.bandwidth() / 2"\n      [attr.width]="scales.x(band.x1) - scales.x(band.x)"\n      fill="red"\n      [attr.height]="scales.y.bandwidth()"></svg:rect>\n    <svg:text\n      text-anchor="middle"\n      dominant-baseline="middle"\n      class="label font-caption fill-text-90"\n      [attr.x]="scales.x(band.x) + (scales.x(band.x1) - scales.x(band.x)) / 2"\n      [attr.y]="scales.y(band.y)">\n      {{ band.y }}\n    </svg:text>\n  }\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[band_series_componentngResource_default()]})],BandSeriesComponent);const randomColor=src_int(0,cssColorNames.length-1),randomSeries=src_int(0,5);faker.locale="ru";const createSeries=(index,size)=>{{const type=randomSeries();return{id:index,type,name:faker.address.cityName(),xAxisIndex:0,yAxisIndex:index>1?1:index,color:cssColorNames[randomColor()].toLowerCase(),fillType:fill_type.k.gradient,data:Array.from(Array(size).keys()).map(((key,index,arr)=>{const num=faker.datatype.number({min:0,max:6e3}),iconId=faker.datatype.number({min:1,max:14});return{x:num,y:type===series_type.O.block?0:faker.datatype.number({min:0,max:200}),iconId:`icon${iconId}`,text:faker.commerce.productMaterial()}})).sort(((a,b)=>a.x-b.x)).map(((_,index,arr)=>({..._,x:arr[index-1]?.x,x1:_.x})))}}},createDragSeries=size=>({id:"index",type:series_type.O.line,name:faker.address.cityName(),yAxisIndex:0,xAxisIndex:0,color:cssColorNames[randomColor()].toLowerCase(),fillType:fill_type.k.gradient,data:Array.from(Array(size).keys()).map(((key,index,arr)=>({x:index,y:faker.datatype.number({min:0,max:200}),marker:index%33==0?{draggable:!0,dragType:drag_point_type.D.xy,style:{strokeWidth:10,fill:"red"},label:{draggable:!1,text:"index"}}:null})))}),createBandSeries=size=>({id:"index",type:series_type.O.line,name:faker.address.cityName(),yAxisIndex:0,xAxisIndex:0,component:BandSeriesComponent,color:cssColorNames[randomColor()].toLowerCase(),data:Array.from(Array(size).keys()).map(((key,index,arr)=>{const x=faker.date.between("2022-09-25T00:00:00.000Z","2022-10-10T00:00:00.000Z");return{x,x1:new Date(x.getTime()+faker.datatype.number({min:864e4,max:10964e4})),y:faker.address.cityName()}}))}),createChart=(seriesCount,size,inverted=!0)=>{const series=[];for(let i=0;i<seriesCount;i++)series.push(createSeries(i,size));return{id:"123123123132",name:"123123123132",tooltip:{tracking:tooltip_tracking.V.y},controls:{enable:!0},bounds:new chart_bounds.C({}),xAxis:[{min:0,max:5e3,visible:!0,inverted:!1,niceTicks:!1,plotLines:[{value:1e3,draggable:!0}],plotBands:[{order:0,from:100,to:200,draggable:!0,resizable:!0,style:{plotBand:{fill:"red"}}}]}],yAxis:[{visible:!0},{visible:!0,opposite:!0}],brush:{type:brush_type.p.y},zoom:{enable:!0,type:zoom_type.C.y,syncChannel:"channelA",zoomBehavior:zoom_behavior_type.u.wheel,min:100,max:5e3,minTranslate:0,maxTranslate:7e3},legend:{enable:!0},series}};var dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),http=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),icon_sprite_directive=__webpack_require__("./projects/components/src/component/icon/icon-sprite.directive.ts"),button_component=__webpack_require__("./projects/components/src/component/button/button/button.component.ts"),jsverse_transloco=__webpack_require__("./node_modules/@jsverse/transloco/fesm2022/jsverse-transloco.mjs");const Chart_stories={title:"Component/Chart",decorators:[(0,dist.applicationConfig)({providers:[(0,http.$R)()]})],component:chart_component.Q,moduleMetadata:{imports:[chart_component.Q]}},basicChart=()=>({moduleMetadata:{imports:[chart_component.Q,icon_sprite_directive._,button_component.Q,jsverse_transloco.bA]},props:{config:createChart(20,200),createChart,setZoom:function(chart){console.log(chart),chart.scaleService.resetZoom()}},template:'\n        <ng-container *transloco="let t; scope: \'charts\';">\n          <div [tetaIconSprite]="[\'assets/icons.svg\', \'assets/lithotype-icons.svg\']"\n              class="font-body-3 column padding-3 bg-global-bgmain"\n              style="width: 100%; height: 100vh">\n          <div>\n            <button teta-button\n              [palette]="\'primary\'"\n              (click)="config=createChart(20, 500);">\n              Create new Data\n            </button>\n            <button teta-button\n              [palette]="\'primary\'"\n              (click)="config=createChart(0, 0); config2=createChart(0, 0)">\n              Create empty data\n              config </button>\n            <button teta-button\n              [palette]="\'primary\'"\n              (click)="setZoom(chart)">Set zoom</button>\n          </div>\n          <div class="row row_auto gap">\n              <teta-svg-chart #chart [config]="config" class="bg-global-bgcard row_6 border border-text-50"></teta-svg-chart>\n          </div>\n        </div>\n      </ng-container>'}),draggableChart=()=>{return{moduleMetadata:{imports:[chart_component.Q,icon_sprite_directive._,button_component.Q]},props:{config:(size=400,{id:"123123123132",name:"123123123132",inverted:!0,tooltip:{tracking:tooltip_tracking.V.y},bounds:new chart_bounds.C({}),xAxis:[{niceTicks:!1}],yAxis:[{}],zoom:{enable:!0,type:zoom_type.C.y},legend:{enable:!1},series:[createDragSeries(size)]})},template:'\n      <div [tetaIconSprite]="[\'assets/icons.svg\', \'assets/lithotype-icons.svg\']"\n            class="font-body-3 padding-3 bg-global-bgmain column"\n            style="width: 100%; height: 100vh">\n        <div class="row row_auto gap">\n            <teta-svg-chart [config]="config" class="bg-global-bgcard row_6 border border-text-50"></teta-svg-chart>\n        </div>\n      </div>'};var size},bandChart=()=>{return{moduleMetadata:{imports:[chart_component.Q,icon_sprite_directive._]},props:{config:(size=50,{id:"Band Chart",name:"Band Chart",tooltip:{tracking:tooltip_tracking.V.y},bounds:new chart_bounds.C({top:30}),xAxis:[{niceTicks:!1,opposite:!0,min:new Date("2022-09-25").getTime(),max:new Date("2022-09-30").getTime(),scaleType:{type:scale_type.b.time}}],yAxis:[{visible:!0,scaleType:{type:scale_type.b.band}}],zoom:{enable:!0,type:zoom_type.C.x},legend:{enable:!1},series:[createBandSeries(size)]})},template:'\n      <div [tetaIconSprite]="[\'assets/icons.svg\', \'assets/lithotype-icons.svg\']"\n            class="font-body-3 padding-3 bg-global-bgmain"\n            style="width: 100%; height: 100vh">\n        <div class="row row_auto gap" style="height: 100%; width: 100%">\n            <teta-svg-chart [config]="config" class="bg-global-bgcard row_6 border border-text-50"></teta-svg-chart>\n        </div>\n      </div>'};var size},__namedExportsOrder=["basicChart","draggableChart","bandChart"];basicChart.parameters={...basicChart.parameters,docs:{...basicChart.parameters?.docs,source:{originalSource:'() => ({\n  moduleMetadata: {\n    imports: [ChartComponent, IconSpriteDirective, ButtonComponent, TranslocoDirective]\n  },\n  props: {\n    config: createChart(20, 200),\n    createChart: createChart,\n    setZoom: function (chart) {\n      console.log(chart);\n      chart.scaleService.resetZoom();\n    }\n  },\n  template: `\n        <ng-container *transloco="let t; scope: \'charts\';">\n          <div [tetaIconSprite]="[\'assets/icons.svg\', \'assets/lithotype-icons.svg\']"\n              class="font-body-3 column padding-3 bg-global-bgmain"\n              style="width: 100%; height: 100vh">\n          <div>\n            <button teta-button\n              [palette]="\'primary\'"\n              (click)="config=createChart(20, 500);">\n              Create new Data\n            </button>\n            <button teta-button\n              [palette]="\'primary\'"\n              (click)="config=createChart(0, 0); config2=createChart(0, 0)">\n              Create empty data\n              config </button>\n            <button teta-button\n              [palette]="\'primary\'"\n              (click)="setZoom(chart)">Set zoom</button>\n          </div>\n          <div class="row row_auto gap">\n              <teta-svg-chart #chart [config]="config" class="bg-global-bgcard row_6 border border-text-50"></teta-svg-chart>\n          </div>\n        </div>\n      </ng-container>`\n})',...basicChart.parameters?.docs?.source}}},draggableChart.parameters={...draggableChart.parameters,docs:{...draggableChart.parameters?.docs,source:{originalSource:'() => ({\n  moduleMetadata: {\n    imports: [ChartComponent, IconSpriteDirective, ButtonComponent]\n  },\n  props: {\n    config: createDragChart(400)\n  },\n  template: `\n      <div [tetaIconSprite]="[\'assets/icons.svg\', \'assets/lithotype-icons.svg\']"\n            class="font-body-3 padding-3 bg-global-bgmain column"\n            style="width: 100%; height: 100vh">\n        <div class="row row_auto gap">\n            <teta-svg-chart [config]="config" class="bg-global-bgcard row_6 border border-text-50"></teta-svg-chart>\n        </div>\n      </div>`\n})',...draggableChart.parameters?.docs?.source}}},bandChart.parameters={...bandChart.parameters,docs:{...bandChart.parameters?.docs,source:{originalSource:'() => ({\n  moduleMetadata: {\n    imports: [ChartComponent, IconSpriteDirective]\n  },\n  props: {\n    config: createBandChart(50)\n  },\n  template: `\n      <div [tetaIconSprite]="[\'assets/icons.svg\', \'assets/lithotype-icons.svg\']"\n            class="font-body-3 padding-3 bg-global-bgmain"\n            style="width: 100%; height: 100vh">\n        <div class="row row_auto gap" style="height: 100%; width: 100%">\n            <teta-svg-chart [config]="config" class="bg-global-bgcard row_6 border border-text-50"></teta-svg-chart>\n        </div>\n      </div>`\n})',...bandChart.parameters?.docs?.source}}}},"./projects/chart/src/chart/stories/bandseries/band-series.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);