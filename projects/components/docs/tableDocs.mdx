import { Meta } from '@storybook/blocks';
import TableStories from '../src/component/table/Table.stories';

<Meta of={TableStories} />

# Таблица

Table (таблица) — компонент, который отображает данные. Создает на основе двух элементов: Table Header (шапка
таблицы) и Cell (ячейка).

### Правила применения

Основные правила применения элементов таблицы:

- в ячейке могут быть иконки, текстовые составляющие, выпадающие таблицы, тоглы, чекбоксы и др.;
- Table Header используется только в шапке таблице.

Для упрощения дизайн-процесса лучше всего создать строку из необходимого количества Table Header и объединить в
компонент. Затем то же самое повторить со строками с Cell и из полученных строк создать компонент таблицы.

### Как использовать

Для начала нужно создать `<teta-table>`.

Для создания таблицы в компонент необходимо передать свойства:

- `data` - данные для формирования таблицы.
- `columns` - каркас данных для таблицы.

`columns` принимает в себя массив объектов типа `TableColumn`. Он состоит из:

- `width` - ширина поля
- `flex` - коэффициент растяжения ячейки
- `headCellClass` - применяет указанный класс к шапке столбца
- `cellClass` - применяет указанный класс к каждой ячейке столбца
- `filterType` - тип поля в ячейке (select,datepicker,string и т.д.)
- `locked` - закрепляет столбец
- `parentName` - название столбца родителя
- `unit` - единицы измерения
- `unitMeasureParameterId` - id измеряемого параметра
- `unitId` - id единицы измерения
- `data` - дополнительные данные, свободное описание, доступны внутри компонета ячейки, можно прокинуть callback
  например
- `editable` - флаг включения/отключения редактирования ячейки
- `headCellComponent` - компонент кастомной ячейки шапки стобца
- `headDropdownConfig` - кастомный дропдаун заголовка для столбца
- `cellComponent` - компонент кастомной ячейки
- `aggregate` - аггрегирует данные по указанному методу и выводит в последней строчке таблицы.
- `defaultValue` - данные которые будут выводится при отсутствии данных в ячейке
- `maxValue` - максимальное значение в ячейке
- `minValue` - минимальное значение в ячейке
- `required` - флаг обязательности ввода данных в ячейки
- `columns` - дочерние колонки
- `validators` - валидаторы для ячеек таблицы
- `sortOrder` - порядковый номер
- `name` - название столбца в строке результатов
- `caption` - название столбца для заголовка таблицы
- `hint` - указанный текст появляется при наведении на ячейку.
- `sortable` - возможность сортировать поле
- `sortField` - поле для сортировки
- `filterable` - возможность фильтровать поле
- `filterField` - поле для фильтрации
- `stringFilterType` - тип сравнения строкового фильтра
- `listFilterType` - тип сравнения строкового фильтра
- `strict` - строгое сравнение
- `filterComponent` - компонент для рендера фильтра

При выборе листа в качестве типа ячейки, то необходимо добавить свойство `dict`, которое отвечает за
отображаемые элементы списка.

### Свойства

| Свойство   | Тип              | Описание                                                                                                            |
| ---------- | ---------------- | ------------------------------------------------------------------------------------------------------------------- |
| data       | `any[]`          | Данные для формирования таблицы                                                                                     |
| cookieName | `string`         | Будут формироваться куки данных таблицы с указанным именем                                                          |
| columns    | `TableColumns[]` | Шаблон столбцов таблицы                                                                                             |
| virtual    | `boolean`        | Флаг для добавления виртуального скролла                                                                            |
| dict       | `any[]`          | Массив выбираемых элементов. Каждое свойство имеет название, которое должно совпадать с соответствующим свойством в |
