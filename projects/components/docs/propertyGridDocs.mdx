import { Meta } from '@storybook/blocks';
import PropertyGridStories from '../src/component/property-grid/PropertyGrid.stories';

<Meta of={PropertyGridStories} />

# Property grid

Property grid (сетка свойств) - это элемент пользовательского интерфейса в программировании, который предоставляет
способ отображения и редактирования свойств объектов. Это особенно полезно при создании приложений с графическим
интерфейсом, где пользователь может настраивать параметры объектов или элементов интерфейса.

### Как использовать

Для начала нужно создать `<teta-property-grid>`.

Для создания сетки свойств в компонент необходимо передать свойства:

- `item` - данные для формирования сетки.
- `columns` - каркас данных для сетки.

`columns` принимает в себя массив объектов типа `TableColumn`. Он состоит из:

- `width` - ширина блока
- `filterType` - тип поля (select,datepicker,string и т.д.)
- `unit` - единицы измерения
- `unitMeasureParameterId` - id измеряемого параметра
- `unitId` - id единицы измерения
- `editable` - флаг включения/отключения редактирования поля
- `defaultValue` - данные которые будут выводится при отсутствии данных.
- `maxValue` - максимальное значение в поле
- `minValue` - минимальное значение в поле
- `required` - флаг обязательности ввода данных в поле
- `validators` - валидаторы для полей
- `name` - название поля
- `caption` - описание поля
- `hint` - указанный текст появляется при наведении описание поля.
- `strict` - строгое сравнение

При выборе листа в качестве типа поля, то необходимо добавить свойство `dict`, которое отвечает за отображаемые элементы списка.

Также можно сделать кастомное отображение сетки по названию свойства в форме при помощи директивы `tetaPropertyGridItemDescription`.

### Пример кода кастомной сетки

```
<teta-property-grid class="scrollable padding-h-3 row_auto" style="width: 100%" (controlValueChange)="save($event)" [item]="item" [horizontal]="true" [columns]="columns" [dict]="dict">
  <ng-template [tetaPropertyGridItemDescription]="'ram'" let-control>
    <input [formControl]="control" class="input" />
  </ng-template>
</teta-property-grid>
```

### Свойства

|      Свойство      |      Тип       | Описание                                                                                                                                                                                                                         |
| :----------------: | :------------: | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|        item        |      any       | Данные для формирования сетки.                                                                                                                                                                                                   |
|      columns       | TableColumns[] | Шаблон сетки                                                                                                                                                                                                                     |
|     horizontal     |    boolean     | Флаг для отображения сетки горизонтально.                                                                                                                                                                                        |
|  hideNonEditable   |    boolean     | Флаг для скрытия нередактируемых полей.                                                                                                                                                                                          |
|    decimalPart     |     number     | Количество знаков после запятой.                                                                                                                                                                                                 |
| controlValueChange |    function    | Функция, которая срабатывает при изменении поля сетки.                                                                                                                                                                           |
|        dict        |     any[]      | Массив выбираемых элементов. Каждое свойство имеет название, которое должно совпадать с соответствующим свойством в `data`. В качестве значения принимает массив объектов id,name. Требуется если вы добавляете сетку типа лист. |
