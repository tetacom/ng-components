"use strict";(self.webpackChunkteta_components=self.webpackChunkteta_components||[]).push([[6493],{"./projects/components/src/directive/loader/Loader.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>Loader_stories,sample:()=>sample});var _class,dist=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),takeWhile=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/takeWhile.js");let LoaderDirective=((_class=class LoaderDirective{set tetaLoader(value){this._loading=value,this._loading?this.show():this.hide()}get tetaLoader(){return this._loading}constructor(_elementRef,_renderer,_document,_zone){this._elementRef=_elementRef,this._renderer=_renderer,this._document=_document,this._zone=_zone,this.appendToBody=!1,this.mask=!1,this._alive=!0,this._loading=!1,this._element=this._elementRef.nativeElement,this._zone.onStable.pipe((0,takeWhile.o)((_=>this._alive))).subscribe((_=>{this._loading&&this._loader&&this.setPosition()}))}ngOnDestroy(){this._alive=!1,this.hide()}show(){null!==this._loader&&void 0!==this._loader||(this._loader=this._renderer.createElement("div"),this._loader.setAttribute("class","loader")),null!==this._mask&&void 0!==this._mask||!this.mask||(this._mask=this._renderer.createElement("div"),this._mask.setAttribute("class","loader-mask")),this.mask&&this._renderer.appendChild(this.appendToBody?this._document.body:this._element,this._mask),this._renderer.appendChild(this.appendToBody?this._document.body:this._element,this._loader),this.setPosition()}hide(){this._loader&&this._loader.parentElement&&this._renderer.removeChild(this._loader.parentElement,this._loader),this._mask&&this._mask.parentElement&&this._renderer.removeChild(this._loader.parentElement,this._mask)}setPosition(){const position=this._element.getBoundingClientRect();this._renderer.setStyle(this._loader,"top",`${position.y+position.height/2}px`),this._renderer.setStyle(this._loader,"left",`${position.x+ +position.width/2}px`)}}).ctorParameters=()=>[{type:core.ElementRef},{type:core.Renderer2},{type:void 0,decorators:[{type:core.Inject,args:[common.DOCUMENT]}]},{type:core.NgZone}],_class.propDecorators={appendToBody:[{type:core.Input}],mask:[{type:core.Input}],tetaLoader:[{type:core.Input}]},_class);LoaderDirective=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[tetaLoader]"})],LoaderDirective);let LoaderModule=class LoaderModule{};LoaderModule=(0,tslib_es6.gn)([(0,core.NgModule)({declarations:[LoaderDirective],exports:[LoaderDirective],imports:[common.CommonModule]})],LoaderModule);const Loader_stories={title:"Directive/Loader",decorators:[dist.withKnobs]},sample=()=>({moduleMetadata:{imports:[LoaderModule]},props:{show:(0,dist.boolean)("show",!0)},template:'<div class="bg-panel-50 padding-10 margin-10" [tetaLoader]="show">\n\n              </div>'})},"./node_modules/rxjs/dist/esm5/internal/operators/takeWhile.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>takeWhile});var _util_lift__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js");function takeWhile(predicate,inclusive){return void 0===inclusive&&(inclusive=!1),(0,_util_lift__WEBPACK_IMPORTED_MODULE_0__.e)((function(source,subscriber){var index=0;source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__.x)(subscriber,(function(value){var result=predicate(value,index++);(result||inclusive)&&subscriber.next(value),!result&&subscriber.complete()})))}))}}}]);