(self.webpackChunk_ng_components_source=self.webpackChunk_ng_components_source||[]).push([[6701],{"./projects/components/src/common/service/click.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>ClickService});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js");let ClickService=class ClickService{constructor(_document){this._document=_document,this.click=(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.R)(this._document,"click"),this.contextMenu=(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.R)(this._document,"contextmenu")}static#_=this.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.DOCUMENT]}]}]};ClickService=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)({providedIn:"root"}),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Sn)("design:paramtypes",[Object])],ClickService)},"./projects/components/src/component/checkbox/checkbox/checkbox.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{P:()=>CheckboxComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var checkbox_componentngResource=__webpack_require__("./projects/components/src/component/checkbox/checkbox/checkbox.component.scss?ngResource"),checkbox_componentngResource_default=__webpack_require__.n(checkbox_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),icon_component=__webpack_require__("./projects/components/src/component/icon/icon/icon.component.ts");const CHECKBOX_CONTROL_VALUE_ACCESSOR={provide:fesm2022_forms.kq,useExisting:(0,core.forwardRef)((()=>CheckboxComponent)),multi:!0};let CheckboxComponent=class CheckboxComponent{get getClass(){const result=[this.class,"checkbox"];return this.palette&&result.push(`checkbox-${this.palette}`),result.join(" ")}get model(){return this.model$}set model(v){v!==this.model$&&(this.model$=v,this.onChange(v))}constructor(cdr){this.cdr=cdr,this.tabindex=0,this.palette="primary",this.labelPosition="right",this.model$=null}changeValue(){this.disabled||(this.binary?this.model=!this.model:this.isChecked()?this.removeValue():this.addValue(),this.checked=this.isChecked())}writeValue(model){this.binary?this.model$=model:this.model$=model&&model instanceof Array?model:[],this.checked=this.isChecked(),this.cdr.detectChanges()}isChecked(){return this.binary?this.allowNull?this.model:!!this.model:this.model&&this.model.indexOf(this.value)>=0}removeValue(){this.model=this.model.filter((val=>val!==this.value))}addValue(){this.model?this.model=[...this.model,this.value]:this.model=[this.value]}ngOnInit(){}onChange(_){}onTouched(){}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this.disabled=isDisabled,this.cdr.detectChanges()}static#_=this.ctorParameters=()=>[{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={tabindex:[{type:core.HostBinding,args:["attr.tabindex"]}],class:[{type:core.Input}],getClass:[{type:core.HostBinding,args:["class"]}],palette:[{type:core.Input}],noLabel:[{type:core.Input}],disabled:[{type:core.HostBinding,args:["class.checkbox_disabled"]},{type:core.Input}],value:[{type:core.Input}],binary:[{type:core.Input}],labelPosition:[{type:core.Input}],allowNull:[{type:core.Input}],changeValue:[{type:core.HostListener,args:["click"]}]}};CheckboxComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-checkbox",template:'@if (labelPosition===\'right\') {\n  <div class="checkbox__tick" [class.checkbox__tick_active]="checked != false">\n    <teta-icon [name]="checked ? \'tick\' : checked === false ? \'\' : \'dash\'"></teta-icon>\n  </div>\n  @if (!noLabel) {\n    <span class="font-body-3">\n      <ng-container *ngTemplateOutlet="content"></ng-container>\n    </span>\n  }\n}\n@if (labelPosition===\'left\') {\n  @if (!noLabel) {\n    <span class="font-body-3">\n      <ng-container *ngTemplateOutlet="content"></ng-container>\n    </span>\n  }\n  <div class="checkbox__tick" [class.checkbox__tick_active]="checked != false">\n    <teta-icon [name]="checked ? \'tick\' : checked === false ? \'\' : \'dash\'"></teta-icon>\n  </div>\n}\n<ng-template #content><ng-content></ng-content></ng-template>\n',providers:[CHECKBOX_CONTROL_VALUE_ACCESSOR],changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[icon_component.R,common.NgTemplateOutlet],styles:[checkbox_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ChangeDetectorRef])],CheckboxComponent)},"./projects/components/src/component/radio/radio-button/radio-button.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>RadioButtonComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var radio_button_componentngResource=__webpack_require__("./projects/components/src/component/radio/radio-button/radio-button.component.scss?ngResource"),radio_button_componentngResource_default=__webpack_require__.n(radio_button_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),radio_component=__webpack_require__("./projects/components/src/component/radio/radio/radio.component.ts");let RadioButtonComponent=class RadioButtonComponent{set value(val){this._value=val}get value(){return void 0===this._value&&this.container.element.nativeElement instanceof HTMLElement?this.container.element.nativeElement.innerText:this._value}constructor(container,radio){this.container=container,this.radio=radio,this.radioButton=!0}hostClick(){this.disabled||this.radio._setChecked(this)}ngOnInit(){this.radio._addButton(this)}ngOnDestroy(){this.radio._removeButton(this)}static#_=this.ctorParameters=()=>[{type:core.ViewContainerRef},{type:radio_component.v,decorators:[{type:core.Host}]}];static#_2=this.propDecorators={radioButton:[{type:core.HostBinding,args:["class.radio-button"]}],selected:[{type:core.HostBinding,args:["class.radio-button-selected"]}],checked:[{type:core.Input},{type:core.HostBinding,args:["class.radio-button-checked"]}],disabled:[{type:core.Input},{type:core.HostBinding,args:["class.radio-button_disabled"]}],value:[{type:core.Input}],hostClick:[{type:core.HostListener,args:["click"]}]}};RadioButtonComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-radio-button",template:'<div class="radio-button-icon">\n  @if (checked) {\n    <div class="radio-button-small-icon"></div>\n  }\n</div>\n<ng-content></ng-content>\n',encapsulation:core.ViewEncapsulation.None,standalone:!0,styles:[radio_button_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ViewContainerRef,radio_component.v])],RadioButtonComponent)},"./projects/components/src/component/radio/radio/radio.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{v:()=>RadioComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var radio_componentngResource=__webpack_require__("./projects/components/src/component/radio/radio/radio.component.scss?ngResource"),radio_componentngResource_default=__webpack_require__.n(radio_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs");let RadioComponent=class RadioComponent{set disabled(val){this.disabled$=val,this.buttons$.forEach((b=>b.disabled=this.disabled))}get disabled(){return this.disabled$}get value(){return this.checkedButton$?this.checkedButton$.value:null}set value(val){this.writeValue(val)}constructor(_cdr){this._cdr=_cdr,this.tabindex=0,this.radioClass=!0,this.checkChangeSelected=!0,this.buttons$=[],this.disabled$=!1,this._onChange=()=>{},this._onTouched=()=>{}}focusHandler(event){this.selectFirst()}focusoutHandler(event){this.selectedButton$&&(this.selectedButton$.selected=!1,this.selectedButton$=null)}keyEvent(event){switch(event.code||event.key){case"Space":case"Enter":case"Spacebar":this.checkSelected();break;case"ArrowUp":case"Up":case"ArrowLeft":case"Left":this.selectPrevious();break;case"ArrowDown":case"Down":case"ArrowRight":case"Right":this.selectNext();break;default:return!1}return event.cancelBubble=!0,event.stopPropagation&&event.stopPropagation(),!1}selectFirst(){if(!this.selectedButton$){if(this.checkedButton$)return this.selectedButton$=this.checkedButton$,this.selectedButton$.selected=!0,!0;for(const btn of this.buttons$)if(!btn.disabled)return this.selectedButton$=btn,this.selectedButton$.selected=!0,!0}return!1}_setChecked(btn){this.checkedButton$&&(this.checkedButton$.checked=!1),this.checkedButton$=btn,this.checkedButton$.checked=!0,this.selectedButton$&&(this.selectedButton$.selected=!1),this.selectedButton$=btn,this.selectedButton$.selected=!0,this._onChange(this.value),this._cdr.markForCheck()}_addButton(btn){return this.disabled&&(btn.disabled=this.disabled),this.buttons$.push(btn)-1}_removeButton(btn){const index=this.buttons$.indexOf(btn);index>-1&&this.buttons$.splice(index,1)}writeValue(obj){this.checkedButton$&&(this.checkedButton$.checked=!1),this.checkedButton$=this.buttons$.find((b=>b.value===obj)),this.checkedButton$&&(this.checkedButton$.checked=!0),this._cdr.markForCheck()}registerOnChange(fn){this._onChange=fn}registerOnTouched(fn){this._onTouched=fn}setDisabledState(isDisabled){this.disabled=isDisabled,this._cdr.markForCheck()}selectBtn(btn){this.selectedButton$&&(this.selectedButton$.selected=!1),this.selectedButton$=btn,this.selectedButton$.selected=!0,this.checkChangeSelected&&this.checkSelected(),this._cdr.markForCheck()}selectNext(){if(this.selectFirst())return;const length=this.buttons$.length;let newIndex=this.selectedButton$?this.buttons$.indexOf(this.selectedButton$):0,firstCycle=!0;do{newIndex++,firstCycle&&newIndex===length&&(newIndex=0,firstCycle=!1);const btn=this.buttons$[newIndex];if(btn&&!btn.disabled)return void this.selectBtn(btn)}while(newIndex<length)}selectPrevious(){if(this.selectFirst())return;let newIndex=this.selectedButton$?this.buttons$.indexOf(this.selectedButton$):0,firstCycle=!0;do{newIndex--,firstCycle&&-1===newIndex&&(newIndex=this.buttons$.length-1,firstCycle=!1);const btn=this.buttons$[newIndex];if(btn&&!btn.disabled)return void this.selectBtn(btn)}while(newIndex>=0)}checkSelected(){this.selectFirst()||this.selectedButton$&&this._setChecked(this.selectedButton$)}static#_=this.ctorParameters=()=>[{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={tabindex:[{type:core.HostBinding,args:["tabindex"]}],radioClass:[{type:core.HostBinding,args:["class.radio"]}],inline:[{type:core.Input},{type:core.HostBinding,args:["class.radio_inline"]}],checkChangeSelected:[{type:core.Input}],disabled:[{type:core.Input}],value:[{type:core.Input}],focusHandler:[{type:core.HostListener,args:["focus",["$event"]]}],focusoutHandler:[{type:core.HostListener,args:["focusout",["$event"]]}],keyEvent:[{type:core.HostListener,args:["keydown",["$event"]]}]}};RadioComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-radio",template:"<ng-content></ng-content>",providers:[{provide:fesm2022_forms.kq,useExisting:(0,core.forwardRef)((()=>RadioComponent)),multi:!0}],changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,styles:[radio_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ChangeDetectorRef])],RadioComponent)},"./projects/components/src/component/tabs/tab-content.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>TabContentDirective});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let TabContentDirective=class TabContentDirective{constructor(template){this.template=template}static#_=this.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef}]};TabContentDirective=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive)({selector:"[tetaTabContent]",standalone:!0}),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Sn)("design:paramtypes",[_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef])],TabContentDirective)},"./projects/components/src/component/tabs/tab-title.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>TabTitleDirective});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let TabTitleDirective=class TabTitleDirective{constructor(template){this.template=template}static#_=this.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef}]};TabTitleDirective=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive)({selector:"[tetaTabTitle]",standalone:!0}),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Sn)("design:paramtypes",[_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef])],TabTitleDirective)},"./projects/components/src/component/tabs/tab/tab.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{j:()=>TabComponent});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_tab_component_scss_ngResource__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./projects/components/src/component/tabs/tab/tab.component.scss?ngResource"),_tab_component_scss_ngResource__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_tab_component_scss_ngResource__WEBPACK_IMPORTED_MODULE_4__),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_tab_content_directive__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./projects/components/src/component/tabs/tab-content.directive.ts"),_tab_title_directive__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./projects/components/src/component/tabs/tab-title.directive.ts");let nextId=0,TabComponent=class TabComponent{constructor(){this.id="teta-tab-"+nextId++,this.disabled=!1}ngAfterContentChecked(){}static#_=this.propDecorators={id:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],title:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],disabled:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],titleTpl:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ContentChild,args:[_tab_title_directive__WEBPACK_IMPORTED_MODULE_1__.X,{static:!1}]}],contentTpl:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ContentChild,args:[_tab_content_directive__WEBPACK_IMPORTED_MODULE_2__.A,{static:!1}]}]}};TabComponent=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Component)({selector:"teta-tab",template:"",changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,standalone:!0,styles:[_tab_component_scss_ngResource__WEBPACK_IMPORTED_MODULE_4___default()]})],TabComponent)},"./projects/components/src/component/tabs/tabs/tabs.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>TabsComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var tabs_componentngResource=__webpack_require__("./projects/components/src/component/tabs/tabs/tabs.component.scss?ngResource"),tabs_componentngResource_default=__webpack_require__.n(tabs_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),tab_component=__webpack_require__("./projects/components/src/component/tabs/tab/tab.component.ts"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");let TabsComponent=class TabsComponent{constructor(){this.classTabs=!0,this.destroyOnHide=!0,this.tabChange=new core.EventEmitter}select(tabId){const selectedTab=this._getTabById(tabId);if(selectedTab&&!selectedTab.disabled&&this.activeId!==selectedTab.id){let defaultPrevented=!1;this.tabChange.emit({activeId:this.activeId,nextId:selectedTab.id,preventDefault:()=>{defaultPrevented=!0}}),defaultPrevented||(this.activeId=selectedTab.id)}}ngAfterContentChecked(){const activeTab=this._getTabById(this.activeId);this.activeId=activeTab?activeTab.id:this.tabs.length?this.tabs.first.id:null}_getTabById(id){const tabsWithId=this.tabs.filter((tab=>tab.id===id));return tabsWithId.length?tabsWithId[0]:null}static#_=this.ctorParameters=()=>[];static#_2=this.propDecorators={classTabs:[{type:core.HostBinding,args:["class.tabs"]}],activeId:[{type:core.Input}],destroyOnHide:[{type:core.Input}],tabChange:[{type:core.Output}],tabs:[{type:core.ContentChildren,args:[tab_component.j]}]}};TabsComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-tabs",template:'<div class="tabs-head" role="tablist">\n  @for (tab of tabs; track tab) {\n    <div class="tabs-head-item"\n      (click)="select(tab.id);"\n      [class.tabs-head-item_active]="tab.id === activeId"\n      [class.tabs-head-item_disabled]="tab.disabled">\n      <span [id]="tab.id" class="tabs-title"\n        role="tab"\n        [attr.tabindex]="(tab.disabled ? \'-1\': undefined)"\n        [attr.aria-controls]="(!destroyOnHide || tab.id === activeId ? tab.id + \'-panel\' : null)"\n        [attr.aria-expanded]="tab.id === activeId"\n        [attr.aria-disabled]="tab.disabled">\n        {{tab.title}}\n        <ng-template [ngTemplateOutlet]="tab.titleTpl?.template"></ng-template>\n      </span>\n    </div>\n  }\n  <ng-content></ng-content>\n</div>\n<div class="tabs-content">\n  @for (tab of tabs; track tab) {\n    @if (!destroyOnHide || tab.id === activeId) {\n      <ng-template [ngTemplateOutlet]="tab.contentTpl?.template"></ng-template>\n    }\n  }\n</div>\n',standalone:!0,imports:[common.NgTemplateOutlet],styles:[tabs_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[])],TabsComponent)},"./projects/components/src/component/toolbar/toolbar/toolbar.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>ToolbarComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var toolbar_componentngResource=__webpack_require__("./projects/components/src/component/toolbar/toolbar/toolbar.component.scss?ngResource"),toolbar_componentngResource_default=__webpack_require__.n(toolbar_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let ToolbarComponent=class ToolbarComponent{get getClass(){const result=[this.class,"toolbar"];return this.palette&&result.push(`toolbar-${this.palette}`),result.join(" ")}ngOnInit(){}static#_=this.propDecorators={palette:[{type:core.Input}],class:[{type:core.Input}],getClass:[{type:core.HostBinding,args:["class"]}]}};ToolbarComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-toolbar",template:"<ng-content></ng-content>\n",changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,styles:[toolbar_componentngResource_default()]})],ToolbarComponent)},"./projects/components/src/component/tree/tree.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{y:()=>TreeService});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js");let TreeService=class TreeService{constructor(){this._openItems=new rxjs__WEBPACK_IMPORTED_MODULE_0__.t([]),this._scrollToIndex=new rxjs__WEBPACK_IMPORTED_MODULE_0__.t(0),this.compareItems=item=>item,this.openItems=this._openItems.asObservable(),this.scrollToIndex=this._scrollToIndex.asObservable()}openItem(item){const newValue=this.addOrRemove(item,this._openItems.value);this.setOpenItems(newValue)}setOpenItems(items){this._openItems.next(items)}scrollTo(index){this._scrollToIndex.next(index)}addOrRemove(needle,list){const found=list?.find((x=>this.compareItems(x)===this.compareItems(needle)));return found?list.filter((x=>this.compareItems(x)!==this.compareItems(needle))):[...list,needle]}static#_=this.ctorParameters=()=>[]};TreeService=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Injectable)({providedIn:"root"}),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Sn)("design:paramtypes",[])],TreeService)},"./projects/components/src/component/tree/tree/tree.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>TreeComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var tree_componentngResource=__webpack_require__("./projects/components/src/component/tree/tree/tree.component.scss?ngResource"),tree_componentngResource_default=__webpack_require__.n(tree_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),tree_service=__webpack_require__("./projects/components/src/component/tree/tree.service.ts"),teta_template_directive=__webpack_require__("./projects/components/src/directive/teta-template/teta-template.directive.ts"),takeWhile=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/takeWhile.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),scrolling=__webpack_require__("./node_modules/@angular/cdk/fesm2022/scrolling.mjs");var tree_item_componentngResource=__webpack_require__("./projects/components/src/component/tree/tree-item/tree-item.component.scss?ngResource"),tree_item_componentngResource_default=__webpack_require__.n(tree_item_componentngResource),animations=__webpack_require__("./node_modules/@angular/animations/fesm2022/animations.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");let TreeItemComponent=class TreeItemComponent{get computedDepth(){return this.depth+(this.item[this.childNodeName]?.length>0?0:this.childPadding?2:1)}constructor(service,_cdr){this.service=service,this._cdr=_cdr,this.depth=0,this.padding=16,this.childNodeName="children",this.treeItemClass=!0,this.itemIsOpen=!1,this._alive=!0,this.treeItemInstance=!0}openItem(){this.service.openItem(this.item)}ngOnInit(){this.service.openItems.pipe((0,takeWhile.v)((_=>this._alive))).subscribe((_=>{const found=_?.find((x=>this.service.compareItems(x)===this.service.compareItems(this.item)));this.itemIsOpen=null!=found,this._cdr.markForCheck()}))}ngOnChanges(changes){}ngOnDestroy(){this._alive=!1}static#_=this.ctorParameters=()=>[{type:tree_service.y},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={item:[{type:core.Input}],depth:[{type:core.Input}],padding:[{type:core.Input}],childNodeName:[{type:core.Input}],template:[{type:core.Input}],childPadding:[{type:core.Input}],treeItemClass:[{type:core.HostBinding,args:["class.tree__item-container"]}],treeItemInstance:[{type:core.HostBinding,args:["@treeItemInstance"]}]}};TreeItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-tree-item",template:'<div class="tree__item_content" [ngClass]="\'tree__item_content-\' + computedDepth" (click)="openItem()">\n  <ng-container\n    *ngTemplateOutlet="template; context: {$implicit: item, item: item, open: itemIsOpen, service: service, depth: depth}"></ng-container>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,animations:[(0,animations.hZ)("treeItemInstance",[(0,animations.kY)("void => *",[(0,animations.iF)({opacity:"0"}),(0,animations.i0)(200,(0,animations.iF)({opacity:"1"}))])])],standalone:!0,imports:[common.NgClass,common.NgTemplateOutlet],styles:[tree_item_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[tree_service.y,core.ChangeDetectorRef])],TreeItemComponent);var scrollable_directive=__webpack_require__("./projects/components/src/directive/scrollable/scrollable.directive.ts"),scrollable_component=__webpack_require__("./projects/components/src/directive/scrollable/scrollable/scrollable.component.ts");let TreeComponent=class TreeComponent{set data(data){this._data=data}get data(){return this._data}set openItems(items){this._openItems=items,this._service.setOpenItems(items)}constructor(_service,_elementRef,_cdr,_zone){this._service=_service,this._elementRef=_elementRef,this._cdr=_cdr,this._zone=_zone,this.padding=8,this.childNodeName="children",this.height=28,this.service=new core.EventEmitter,this.openItemsChange=new core.EventEmitter,this._alive=!0,this.treeClass=!0,this.trackRow=(index,item)=>this.compareItems?this.compareItems(item):index,this._service.openItems.pipe((0,takeWhile.v)((_=>this._alive)),(0,filter.p)((_=>this._openItems!==_))).subscribe((_=>{this._openItems=_,this.displayData=this.getDisplayData(this._data,0),this.openItemsChange.emit(_),this.viewport?.checkViewportSize()}))}set compareItems(func){this._service.compareItems=func}get compareItems(){return this._service.compareItems}ngOnInit(){this.service.emit(this._service),this.addResizeObserver()}ngOnChanges(changes){this.displayData=this.getDisplayData(this._data,0),this.childPadding=this.hasChildren(this._data),this.viewport?.checkViewportSize()}ngOnDestroy(){this._alive=!1,this.removeResizeObserver()}ngAfterViewInit(){this._service.scrollToIndex.pipe((0,takeWhile.v)((()=>this._alive))).subscribe((index=>{this._zone.runOutsideAngular((()=>{setTimeout((()=>{this.viewport?.scrollToIndex(index,"smooth")}))}))}))}hasChildren(data){return data?.some((_=>_[this.childNodeName]?.length>0))}getDisplayData(data,level){const result=[];return data?.forEach((item=>{item.level=level,result.push(item),item[this.childNodeName]?.length>0&&this._openItems?.find((openItem=>this.compareItems(openItem)===this.compareItems(item)))&&result.push(...this.getDisplayData(item[this.childNodeName],level+1))})),result}addResizeObserver(){this._obs=new ResizeObserver((_=>{this.viewport?.checkViewportSize()})),this._obs.observe(this._elementRef.nativeElement)}removeResizeObserver(){this._obs.unobserve(this._elementRef.nativeElement),this._obs.disconnect()}static#_=this.ctorParameters=()=>[{type:tree_service.y},{type:core.ElementRef},{type:core.ChangeDetectorRef},{type:core.NgZone}];static#_2=this.propDecorators={data:[{type:core.Input}],padding:[{type:core.Input}],childNodeName:[{type:core.Input}],virtual:[{type:core.Input}],height:[{type:core.Input}],openItems:[{type:core.Input}],service:[{type:core.Output}],openItemsChange:[{type:core.Output}],viewport:[{type:core.ViewChild,args:[scrolling.d6,{static:!1}]}],template:[{type:core.ContentChild,args:[teta_template_directive.i,{static:!0}]}],compareItems:[{type:core.Input}],treeClass:[{type:core.HostBinding,args:["class.tree"]}]}};TreeComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-tree",template:'@if (virtual) {\n  <teta-scrollable class="column column_auto">\n    <cdk-virtual-scroll-viewport tetaScrollable\n      class="table-body-container"\n      [itemSize]="height">\n      <teta-tree-item *cdkVirtualFor="let item of displayData;templateCacheSize: 0; trackBy: trackRow;"\n        [item]="item"\n        [style.height.px]="height"\n        [depth]="item[\'level\']"\n        [padding]="padding"\n        [childNodeName]="childNodeName"\n        [childPadding]="childPadding"\n      [template]="template?.template"></teta-tree-item>\n    </cdk-virtual-scroll-viewport>\n  </teta-scrollable>\n} @else {\n  <teta-scrollable class="column column_auto" direction="column">\n    @for (item of displayData; track trackRow($index, item)) {\n      <teta-tree-item\n        [item]="item"\n        [style.height.px]="height"\n        [depth]="item[\'level\']"\n        [padding]="padding"\n        [childNodeName]="childNodeName"\n        [childPadding]="childPadding"\n      [template]="template?.template"></teta-tree-item>\n    }\n  </teta-scrollable>\n}\n',providers:[tree_service.y],changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[scrollable_component.x,scrolling.d6,scrolling.yg,scrollable_directive.r,scrolling.E$,TreeItemComponent],styles:[tree_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[tree_service.y,core.ElementRef,core.ChangeDetectorRef,core.NgZone])],TreeComponent)},"./projects/components/src/directive/context-menu/context-menu.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>ContextMenuDirective});var tslib__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_common_service_click_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./projects/components/src/common/service/click.service.ts"),_common_service_dynamic_component_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./projects/components/src/common/service/dynamic-component.service.ts"),_common_util_array_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./projects/components/src/common/util/array-util.ts"),_common_util_dom_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./projects/components/src/common/util/dom-util.ts"),_common_util_position_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./projects/components/src/common/util/position-util.ts"),_dynamic_content_base_directive__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./projects/components/src/directive/dynamic-content-base.directive.ts");let ContextMenuDirective=class ContextMenuDirective extends _dynamic_content_base_directive__WEBPACK_IMPORTED_MODULE_0__.t{get _dynamicContent(){return this.tetaContextMenu}constructor(_document,_elementRef,_service,_injector,_zone,_cdr,_click){super(_document,_elementRef,_service,_injector,_zone,_cdr),this._document=_document,this._elementRef=_elementRef,this._service=_service,this._injector=_injector,this._zone=_zone,this._cdr=_cdr,this._click=_click,this.autoCloseIgnore=[],this.scrollListener=event=>{this._open&&this._componentRef&&!this._componentRef.location.nativeElement.contains(event.target)&&this._componentRef.location.nativeElement!==event.target&&(this.destroyContentRef(),this.openChange.emit(!1))},this.addScrollListener()}showContent(event){this.tetaContextMenu&&!event.defaultPrevented&&(event.preventDefault(),setTimeout((()=>{this.createMenu(event)})))}click(event){this._componentRef&&_common_util_dom_util__WEBPACK_IMPORTED_MODULE_1__.b.clickedInside(this._componentRef.location.nativeElement,event)&&(event.preventDefault(),event.stopPropagation())}documentClick(event){this._open&&this._componentRef&&(!_common_util_dom_util__WEBPACK_IMPORTED_MODULE_1__.b.clickedInside(this._componentRef.location.nativeElement,event)||this.autoCloseIgnore.indexOf("inside")<0)&&(this.destroyContentRef(),this.openChange.emit(!1))}addScrollListener(){window.addEventListener("scroll",this.scrollListener,!0)}removeScrollListener(){window.removeEventListener("scroll",this.scrollListener,!0)}ngOnDestroy(){super.ngOnDestroy(),this.removeScrollListener()}setPosition(){if(this._componentRef&&this._open){const position=_common_util_position_util__WEBPACK_IMPORTED_MODULE_2__.o.getPosition({top:this._eventPoint.y,bottom:this._eventPoint.y,left:this._eventPoint.x,right:this._eventPoint.x},this._componentRef.location.nativeElement.getBoundingClientRect(),this.align,this.verticalAlign);_common_util_position_util__WEBPACK_IMPORTED_MODULE_2__.o.setElementPosition(this._componentRef.location.nativeElement,position)}}createMenu(event){null!=this.tetaContextMenu&&(this._eventPoint=event,this._componentRef=this.createContentRef(),this._componentRef.instance.className=[..._common_util_array_util__WEBPACK_IMPORTED_MODULE_3__._.asArray(this.className),"context-menu"],this.openChange.emit(!0))}static#_=this.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_4__.Inject,args:[_angular_common__WEBPACK_IMPORTED_MODULE_5__.DOCUMENT]}]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_4__.ElementRef},{type:_common_service_dynamic_component_service__WEBPACK_IMPORTED_MODULE_6__._},{type:_angular_core__WEBPACK_IMPORTED_MODULE_4__.Injector},{type:_angular_core__WEBPACK_IMPORTED_MODULE_4__.NgZone},{type:_angular_core__WEBPACK_IMPORTED_MODULE_4__.ChangeDetectorRef},{type:_common_service_click_service__WEBPACK_IMPORTED_MODULE_7__._}];static#_2=this.propDecorators={tetaContextMenu:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_4__.Input}],autoCloseIgnore:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_4__.Input}],showContent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_4__.HostListener,args:["contextmenu",["$event"]]}],click:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_4__.HostListener,args:["click",["$event"]]}],documentClick:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_4__.HostListener,args:["document:click",["$event"]]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_4__.HostListener,args:["document:contextmenu",["$event"]]}]}};ContextMenuDirective=(0,tslib__WEBPACK_IMPORTED_MODULE_8__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.Directive)({selector:"[tetaContextMenu]",standalone:!0}),(0,tslib__WEBPACK_IMPORTED_MODULE_8__.Sn)("design:paramtypes",[Object,_angular_core__WEBPACK_IMPORTED_MODULE_4__.ElementRef,_common_service_dynamic_component_service__WEBPACK_IMPORTED_MODULE_6__._,_angular_core__WEBPACK_IMPORTED_MODULE_4__.Injector,_angular_core__WEBPACK_IMPORTED_MODULE_4__.NgZone,_angular_core__WEBPACK_IMPORTED_MODULE_4__.ChangeDetectorRef,_common_service_click_service__WEBPACK_IMPORTED_MODULE_7__._])],ContextMenuDirective)},"./projects/components/src/directive/resize-drag/resize-drag.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{y:()=>ResizeDragDirective});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");let ResizeDragDirective=class ResizeDragDirective{get horizontal(){return"horizontal"===this.tetaResizeDrag}get vertical(){return"vertical"===this.tetaResizeDrag}constructor(_document){this._document=_document,this.tetaResizeDrag="vertical",this.resizeStart=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.resizeProcess=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.resizeEnd=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.handleMouseUp=event=>{this.resizeEnd.emit(event),this.removeListeners()},this.handleMouseMove=event=>{this.resizeProcess.emit(event)}}mouseDown(event){this.resizeStart.emit(event),this.addListeners()}addListeners(){this._active=!0,this._document.addEventListener("mouseup",this.handleMouseUp),this._document.addEventListener("mousemove",this.handleMouseMove)}removeListeners(){this._active=!1,this._document.removeEventListener("mouseup",this.handleMouseUp),this._document.removeEventListener("mousemove",this.handleMouseMove)}static#_=this.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[_angular_common__WEBPACK_IMPORTED_MODULE_1__.DOCUMENT]}]}];static#_2=this.propDecorators={tetaResizeDrag:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],resizeStart:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],resizeProcess:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],resizeEnd:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],_active:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,args:["class.resize-drag_active"]}],horizontal:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,args:["class.resize-drag_horizontal"]}],vertical:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,args:["class.resize-drag_vertical"]}],mouseDown:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.HostListener,args:["mousedown",["$event"]]}]}};ResizeDragDirective=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive)({selector:"[tetaResizeDrag]",standalone:!0}),(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Sn)("design:paramtypes",[Object])],ResizeDragDirective)},"./projects/components/src/directive/teta-template/teta-template.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>TetaTemplateDirective});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let TetaTemplateDirective=class TetaTemplateDirective{constructor(template){this.template=template}getId(){return this.id}static#_=this.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef}];static#_2=this.propDecorators={id:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["tetaTemplate"]}]}};TetaTemplateDirective=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive)({selector:"[tetaTemplate]",standalone:!0}),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Sn)("design:paramtypes",[_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef])],TetaTemplateDirective)},"./projects/components/src/component/table/Table.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var EditType,EditEvent,SelectType;__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,basicTable:()=>basicTable,default:()=>Table_stories,virtualTable:()=>virtualTable}),function(EditType){EditType[EditType.none=0]="none",EditType[EditType.cell=1]="cell",EditType[EditType.row=2]="row"}(EditType||(EditType={})),function(EditEvent){EditEvent[EditEvent.click=0]="click",EditEvent[EditEvent.focus=1]="focus",EditEvent[EditEvent.doubleClick=2]="doubleClick"}(EditEvent||(EditEvent={})),function(SelectType){SelectType[SelectType.none=0]="none",SelectType[SelectType.checkBox=1]="checkBox",SelectType[SelectType.mouse=2]="mouse"}(SelectType||(SelectType={}));var dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),http=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var table_demo_componentngResource=__webpack_require__("./projects/components/src/component/table/table-demo/table-demo/table-demo.component.scss?ngResource"),table_demo_componentngResource_default=__webpack_require__.n(table_demo_componentngResource),faker=__webpack_require__("./node_modules/faker/index.js"),table_column=__webpack_require__("./projects/components/src/component/table/contract/table-column.ts"),filter_type_enum=__webpack_require__("./projects/components/src/component/filter/enum/filter-type.enum.ts"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");var table_componentngResource=__webpack_require__("./projects/components/src/component/table/table/table.component.scss?ngResource"),table_componentngResource_default=__webpack_require__.n(table_componentngResource),takeWhile=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/takeWhile.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),align_enum=__webpack_require__("./projects/components/src/common/enum/align.enum.ts"),vertical_align_enum=__webpack_require__("./projects/components/src/common/enum/vertical-align.enum.ts"),object_hash=__webpack_require__("./node_modules/object-hash/dist/object_hash.js"),object_hash_default=__webpack_require__.n(object_hash),BehaviorSubject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js"),Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),array_util=__webpack_require__("./projects/components/src/common/util/array-util.ts"),bool_or_func=__webpack_require__("./projects/components/src/util/bool-or-func.ts"),number_helper=__webpack_require__("./projects/components/src/pipe/util/number-helper.ts");class DateUtil{static subtractDays(date,days=0){if(date&&date instanceof Date){const dt=new Date(date.getTime());return dt.setDate(dt.getDate()-days),dt}return null}static addDays(date,days=0){if(date&&date instanceof Date){const dt=new Date(date.getTime());return dt.setDate(dt.getDate()+days),dt}return null}static parseString(dat){if(!dat||dat.length<1)return null;const parts=dat.split(" "),dtPart=parts[0].split("."),tPart=parts[1]?.split(":")??["0","0","0"],parsedDate=new Date(parseInt(dtPart[2],10),parseInt(dtPart[1],10)-1,parseInt(dtPart[0],10),parseInt(tPart[0],10),parseInt(tPart[1],10),parseInt(tPart[2],10));return isNaN(parsedDate.getTime())?null:parsedDate}static toString(dat){if(!(dat&&dat instanceof Date))return"";const month=dat.getMonth()+1;return`${(0,number_helper.DH)(dat.getDate(),2)}.${(0,number_helper.DH)(month,2)}.${dat.getFullYear()} ${(0,number_helper.DH)(dat.getHours(),2)}:${(0,number_helper.DH)(dat.getMinutes(),2)}:${(0,number_helper.DH)(dat.getSeconds(),2)}`}static convertUTC2DateLocal(date){if(date&&date instanceof Date){const timezoneOffsetMs=6e4*new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTimezoneOffset();return new Date(date.getTime()-timezoneOffsetMs)}return null}static convertDateLocal2UTC(date){if(date&&date instanceof Date){const timezoneOffsetMs=6e4*new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTimezoneOffset();return null==date?null:new Date(date.getTime()+timezoneOffsetMs)}return null}static convertDateStringsToDates(input){if("string"==typeof input&&/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i.test(input))return DateUtil.convertStringToLocalDate(input);if("object"!=typeof input||!input)return input;let res;return res=input instanceof Array?[]:{},DateUtil.fillConvertDateStringsToDates(res,input)}static convertDates(input){if("object"!=typeof input||!input)return input;if(input instanceof Date)return DateUtil.convertUTC2DateLocal(input);let res;return res=input instanceof Array?[]:{},DateUtil.fillConvertDates(res,input)}static getMonthDaysCount(date){return new Date(date.getFullYear(),date.getMonth()+1,0).getDate()}static getRangeOfMonths(start,end){if(start>end||!start||!end)return null;const resDates=[];let i=0,dateTmp=new Date(start.getFullYear(),start.getMonth()+i,1);for(;end>=dateTmp;)resDates.push(dateTmp),i++,dateTmp=new Date(start.getFullYear(),start.getMonth()+i,1);return resDates}static truncateToMonth(date){return new Date(date.getFullYear(),date.getMonth(),1,0,0,0)}static truncateToDay(date){return new Date(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0)}static truncateToHour(date){return new Date(date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),0,0)}static toISOString(date){return new Date(date-6e4*(new Date).getTimezoneOffset()).toISOString().slice(0,-5)+"Z"}static isValidDate(date){return date instanceof Date&&!isNaN(date.getTime())}static millisecondToHumanFormat(milliSeconds,maxValue=5e3,showDays=!1){const negative=milliSeconds<0;let d;negative&&(milliSeconds=-milliSeconds),showDays&&(d=Math.trunc(milliSeconds/864e5),milliSeconds-=864e5*d);const h=Math.trunc(milliSeconds/36e5);milliSeconds-=36e5*h;const m=Math.trunc(milliSeconds/6e4);milliSeconds-=6e4*m;const s=Math.trunc(milliSeconds/1e3);milliSeconds-=1e3*s;let result=m?m+" м ":"";return maxValue<36e5&&(s&&(result=result+s+" с "),0!==s||m||(result+="0 c")),maxValue<5e3&&(result=milliSeconds?result+milliSeconds+" мс ":result),h&&(result=h+" ч "+result),d&&(result=d+"д "+result),negative&&(result="-"+result),result.trim()}static fillConvertDates(result,input){for(const key in input)if(input.hasOwnProperty&&input.hasOwnProperty(key)&&input.hasOwnProperty(key)){let value=input[key];value instanceof Date?(null!=value&&(value=DateUtil.convertUTC2DateLocal(value)),result[key]=value):result[key]="object"==typeof value?DateUtil.convertDates(value):value}return result}static fillConvertDateStringsToDates(result,input){const regexIso8601=/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z?)?$/i;for(const key in input){if(!input.hasOwnProperty(key))continue;const value=input[key];"string"==typeof value&&regexIso8601.test(value)?result[key]=DateUtil.convertStringToLocalDate(value):result[key]="object"==typeof value?DateUtil.convertDateStringsToDates(value):value}return result}static convertStringToLocalDate(dateString){const milliseconds=Date.parse(dateString);if(!isNaN(milliseconds)){const dt=new Date(milliseconds);return DateUtil.convertDateLocal2UTC(dt)}return null}}var string_util=__webpack_require__("./projects/components/src/util/string-util.ts");class FilterBase{constructor(options){options&&(this.field=string_util.w.firstLetterToLower(options.field),this.name=string_util.w.firstLetterToLower(options.name))}}class DateFilterValue{constructor(options){options&&(this.lessThan="string"==typeof options.lessThan?new Date(options.lessThan):options.lessThan,this.greaterThan="string"==typeof options.greaterThan?new Date(options.greaterThan):options.greaterThan)}}class DateFilter extends FilterBase{constructor(options){super(options),options&&(this.value=new DateFilterValue(options.value))}}var string_filter_type_enum=__webpack_require__("./projects/components/src/component/filter/enum/string-filter-type.enum.ts");class StringFilter extends FilterBase{constructor(options){super(options),options&&(this.value=options.value||this.value,this.type=options.type||string_filter_type_enum.o.Contains)}}class NumericFilter extends FilterBase{constructor(options){super(options),this.value=options?.value||this.value,this.strict=options?.strict||!1}}var list_filter_type_enum=__webpack_require__("./projects/components/src/component/filter/enum/list-filter-type.enum.ts");class ListFilter extends FilterBase{constructor(options){super(options),options&&(this.value=options.value||this.value,this.type=options.type||list_filter_type_enum.f.None)}}class SortParam{constructor(options){options&&(this.field=string_util.w.firstLetterToLower(options.field||this.field),this.asc=options.asc||!1,this.order=options.order||this.order)}}class NumericFilterValue{constructor(options){options&&(this.lessThan=options.lessThan,this.greaterThan=options.greaterThan,this.equalsTo=options.equalsTo)}}class BooleanFilter extends FilterBase{constructor(options){super(options),this.value=!!options?.value}}class FilterState{constructor(options){this.stringFilters=[],this.numericFilters=[],this.dateFilters=[],this.listFilters=[],this.booleanFilters=[],this.sortParams=[],options&&(options.stringFilters&&options.stringFilters.length&&(this.stringFilters=options.stringFilters.map((x=>new StringFilter(x)))),options.booleanFilters&&options.booleanFilters.length&&(this.booleanFilters=options.booleanFilters.map((x=>new BooleanFilter(x)))),options.numericFilters&&options.numericFilters.length&&(this.numericFilters=options.numericFilters.map((x=>new NumericFilter(x)))),options.dateFilters&&options.dateFilters.length&&(this.dateFilters=options.dateFilters.map((x=>new DateFilter(x)))),options.listFilters&&options.listFilters.length&&(this.listFilters=options.listFilters.map((x=>new ListFilter(x)))),options.sortParams&&options.sortParams.length&&(this.sortParams=options.sortParams.map((x=>new SortParam(x)))))}static restore(cookie){const state=localStorage.getItem(cookie)||"null";return JSON.parse(state)}save(cookieName){cookieName&&localStorage.setItem(cookieName,JSON.stringify(this))}addListFilter(value){null!==this.listFilters&&void 0!==this.listFilters||(this.listFilters=[]);const filter=this.listFilters.find((f=>f.field===value.field));return null==filter?(this.listFilters.push(value),value):(filter.value=value.value,filter)}addDateFilter(value){null!==this.dateFilters&&void 0!==this.dateFilters||(this.dateFilters=[]);const filter=this.dateFilters.find((f=>f.field===value.field));return null==filter?(this.dateFilters.push(value),value):(filter.value=value.value,filter)}addStringFilter(value){null!==this.stringFilters&&void 0!==this.stringFilters||(this.stringFilters=[]);const filter=this.stringFilters.find((f=>f.field===value.field));return null==filter?(this.stringFilters.push(value),value):(filter.value=value.value,filter)}addBooleanFilter(value){null!==this.booleanFilters&&void 0!==this.booleanFilters||(this.booleanFilters=[]);const filter=this.booleanFilters.find((f=>f.field===value.field));return null==filter?(this.booleanFilters.push(value),value):(filter.value=value.value,filter)}addNumericFilter(value){null!==this.numericFilters&&void 0!==this.numericFilters||(this.numericFilters=[]);const filter=this.numericFilters.find((f=>f.field===value.field));return null==filter?(this.numericFilters.push(value),value):(filter.value=value.value,filter)}clear(){this.sortParams.length=0,this.stringFilters.map((f=>{f.value=""})),this.booleanFilters.map((f=>{f.value=null})),this.dateFilters.map((f=>{f.value=new DateFilterValue({lessThan:null,greaterThan:null})})),this.numericFilters.map((f=>{f.value=new NumericFilterValue({lessThan:null,greaterThan:null,equalsTo:null})})),this.listFilters.map((f=>{f.value=[],f.type=list_filter_type_enum.f.None}))}}class ColumnReorderEvent{constructor(source,target){this.source=source,this.target=target}}class TableColumnStore{constructor(options){options&&(this.width=options?.width,this.flex=options?.flex,this.locked=options?.locked,this.name=options?.name,this.columns=options?.columns?.map((x=>new TableColumnStore(x))))}}class TableRow{constructor(options){this.valid=options?.valid,this.data=options?.data}}class StateUtil{static hasSortedColumns(state){return state.sortParams&&state.sortParams.length>0}static hasFilteredColumns(state){let hasFilters=!1;return state.stringFilters&&state.stringFilters.some((filter=>filter.value&&filter.value.length))&&(hasFilters=!0),state.listFilters&&state.listFilters.some((filter=>filter.value&&filter.value.length))&&(hasFilters=!0),state.numericFilters&&state.numericFilters.some((filter=>filter&&filter.value&&(null!==filter.value.lessThan&&void 0!==filter.value.lessThan||null!==filter.value.greaterThan&&void 0!==filter.value.greaterThan||null!==filter.value.equalsTo&&void 0!==filter.value.equalsTo)))&&(hasFilters=!0),state.dateFilters&&state.dateFilters.some((filter=>filter&&filter.value&&(null!==filter.value.lessThan&&void 0!==filter.value.lessThan||null!==filter.value.greaterThan&&void 0!==filter.value.greaterThan)))&&(hasFilters=!0),hasFilters}static getSortState(state,column){if(state?.sortParams&&state.sortParams.length){const param=state.sortParams.find((x=>x.field===column.sortField));if(param)return param}return null}static isColumnFiltered(state,column){if(!column.filterable)return!1;let filtered=!1;switch(column.filterType){case filter_type_enum.R.string:if(state?.stringFilters){const filter=state.stringFilters.find((x=>x.field===column.filterField));filter&&filter.value&&filter.value.length&&(filtered=!0)}break;case filter_type_enum.R.list:if(state?.listFilters){const filter=state.listFilters.find((x=>x.field===column.filterField));filter&&filter.value&&filter.value.length&&(filtered=!0)}break;case filter_type_enum.R.number:if(state?.numericFilters){const filter=state.numericFilters.find((x=>x.field===column.filterField));filter&&filter.value&&(null!==filter.value.lessThan&&void 0!==filter.value.lessThan||null!==filter.value.greaterThan&&void 0!==filter.value.greaterThan||null!==filter.value.equalsTo&&void 0!==filter.value.equalsTo)&&(filtered=!0)}break;case filter_type_enum.R.date:if(state?.dateFilters){const filter=state.dateFilters.find((x=>x.field===column.filterField));filter&&filter.value&&(null!==filter.value.lessThan&&void 0!==filter.value.lessThan||null!==filter.value.greaterThan&&void 0!==filter.value.greaterThan)&&(filtered=!0)}}return filtered}static sortColumn(sortEvent,state){const column=sortEvent.column,shiftKey=sortEvent.shiftKey,sort=state.sortParams.find((sortParam=>sortParam.field===column.sortField));return null==sort?(shiftKey||(state.sortParams.length=0),state.sortParams.push(new SortParam({field:column.sortField,asc:!0,order:0}))):sort.asc?(sort.asc=!sort.asc,shiftKey||(state.sortParams=[sort])):state.sortParams=StateUtil.clearSortParam(sort,state.sortParams),new FilterState(state)}static sortAsc(sortEvent,state){return StateUtil.sort(sortEvent,state,!0)}static sortDesc(sortEvent,state){return StateUtil.sort(sortEvent,state,!1)}static sort(sortEvent,state,asc){const column=sortEvent.column,shiftKey=sortEvent.shiftKey,sort=state.sortParams.find((sortParam=>sortParam.field===column.sortField));return sort&&(state.sortParams=StateUtil.clearSortParam(sort,state.sortParams)),shiftKey||(state.sortParams.length=0),state.sortParams.push(new SortParam({field:column.sortField,asc,order:0})),new FilterState(state)}static clearSortParam(sort,sortParams){const index=sortParams.indexOf(sort);return sortParams.splice(index,1),sortParams}static clearSort(column,state){return state.sortParams=state.sortParams.filter((_=>_.field!==column.sortField)),new FilterState(state)}static clearAllSort(state){return state.sortParams=[],new FilterState(state)}}let TableService=class TableService{get dragSource(){return this._dragSource}get currentEditCell(){return this._currentEditCell}constructor(){this.selectType=SelectType.mouse,this.editType=EditType.cell,this.editEvent=EditEvent.doubleClick,this.trackRow=(index,row)=>{const rowId=row.id;return rowId||index},this.initialColumnsHash="",this.initialColumns=[],this.displayColumns=[],this._columns=new BehaviorSubject.t([]),this._hiddenColumns=new BehaviorSubject.t([]),this._displayData=new BehaviorSubject.t([]),this._dict=new BehaviorSubject.t({}),this._filterOptions=new BehaviorSubject.t({}),this._state=new BehaviorSubject.t(new FilterState),this._editRowStart=new Subject.B,this._editRowStop=new Subject.B,this._editCellStart=new Subject.B,this._editCellStop=new Subject.B,this._valueChanged=new Subject.B,this._valueSet=new Subject.B,this._stateChanged=new Subject.B,this._filterClear=new Subject.B,this._selectedRows=new BehaviorSubject.t([]),this._activeRow=new BehaviorSubject.t(null),this._scrollIndex=new Subject.B,this.columns=this._columns.asObservable(),this.displayData=this._displayData.asObservable(),this.dict=this._dict.asObservable(),this.filterOptions=this._filterOptions.asObservable(),this.state=this._state.asObservable(),this.editRowStart=this._editRowStart.asObservable(),this.editRowStop=this._editRowStop.asObservable(),this.editCellStart=this._editCellStart.asObservable(),this.editCellStop=this._editCellStop.asObservable(),this.valueChanged=this._valueChanged.asObservable(),this.valueSet=this._valueSet.asObservable(),this.stateChanged=this._stateChanged.asObservable(),this.filterClear=this._filterClear.asObservable(),this.selectedRows=this._selectedRows.asObservable(),this.activeRow=this._activeRow.asObservable(),this.hiddenColumns=this._hiddenColumns.asObservable(),this.scrollIndex=this._scrollIndex.asObservable()}setData(data){this._displayData.next(data?.map((item=>new TableRow({data:item})))??[])}setDict(dict){this._dict.next(dict)}setFilterOptions(filterOptions){this._filterOptions.next(filterOptions)}setColumns(columns){this.initialColumns=columns?columns.map((_=>new table_column.V(_))):[];const excludeKeys=["editable","cellComponent","headCellComponent","headDropdownConfig"];this.initialColumnsHash=object_hash_default()(this.initialColumns,{algorithm:"sha1",ignoreUnknown:!0,excludeKeys:key=>excludeKeys.indexOf(key)>=0});const restored=this.restoreColumns();restored?this.setDisplayColumns(restored):this.setDisplayColumns(this.initialColumns)}restoreDefaultColumns(){this.setDisplayColumns(this.initialColumns),this.clearColumnsState()}updateColumns(columns){this.setDisplayColumns(columns),this.saveColumnsState()}saveColumnsState(){this._columnsCookieName&&localStorage.setItem(this._columnsCookieName,JSON.stringify({hash:this.initialColumnsHash,columns:this.displayColumns.map((_=>new TableColumnStore(_)))}))}clearColumnsState(){this._columnsCookieName&&localStorage.removeItem(this._columnsCookieName)}setDisplayColumns(columns){this.displayColumns=columns?columns.map((_=>new table_column.V(_))):[],this._columns.next(this.displayColumns)}restoreColumns(){if(this._columnsCookieName){const savedColumns=JSON.parse(localStorage.getItem(this._columnsCookieName));if(savedColumns&&savedColumns.hash===this.initialColumnsHash)return this.restoreColumnsState(savedColumns.columns)}return null}restoreColumnsState(columns){return columns.map((column=>{const found=array_util._.findRecursive(this.initialColumns,(item=>item.name===column.name),"columns"),resultColumn=new table_column.V(found);return resultColumn.width=column.width,resultColumn.flex=column.flex,resultColumn.locked=column.locked,column.columns?.length>0&&(resultColumn.columns=this.restoreColumnsState(column.columns)),resultColumn}))}setState(state){this._cookieName&&state.save(this._cookieName),this._state.next(state)}setCookieName(name){this._cookieName=name,this._hiddenCookieName=`${this._cookieName}_hidden_columns`,this._columnsCookieName=`${this._cookieName}_columns`}restoreState(){let state;if(this._cookieName&&this._cookieName?.length>0&&FilterState.restore(this._cookieName)){let newState=Object.assign(this._state.value,FilterState.restore(this._cookieName));newState=DateUtil.convertDateStringsToDates(newState),state=new FilterState(newState)}else state=new FilterState;this.setState(state)}saveHiddenColumns(hiddenColumns){this._hiddenCookieName&&localStorage.setItem(this._hiddenCookieName,JSON.stringify(hiddenColumns))}restoreHiddenColumns(){const hiddenColumns=localStorage.getItem(this._hiddenCookieName??"")||"[]";this._hiddenColumns.next(JSON.parse(hiddenColumns))}sortAsc(sortEvent){sortEvent.column.sortable&&this.setState(StateUtil.sortAsc(sortEvent,this._state.value))}sortDesc(sortEvent){sortEvent.column.sortable&&this.setState(StateUtil.sortDesc(sortEvent,this._state.value))}clearSort(column){this.setState(StateUtil.clearSort(column,this._state.value))}clearAllSort(){this.setState(StateUtil.clearAllSort(this._state.value))}clearFilter(column){const state=this._state.value;if(null!=column&&column.filterable){switch(column.filterType){case filter_type_enum.R.date:state.addDateFilter(new DateFilter({name:column.name,field:column.filterField,value:new DateFilterValue}));break;case filter_type_enum.R.string:state.addStringFilter(new StringFilter({name:column.name,field:column.filterField,value:""}));break;case filter_type_enum.R.number:state.addNumericFilter(new NumericFilter({name:column.name,field:column.filterField,value:new NumericFilterValue}));break;case filter_type_enum.R.list:state.addListFilter(new ListFilter({name:column.name,field:column.filterField,value:[],type:list_filter_type_enum.f.None}))}this.setState(new FilterState(state))}}clearAllFilters(){const state=this._state.value;state.stringFilters=[],state.listFilters=[],state.numericFilters=[],state.dateFilters=[],this.setState(new FilterState(state))}pinColumn(column){this.displayColumns.forEach((col=>{col.name===column.name&&(col.locked=!col.locked)})),this.updateColumns(this.displayColumns)}dragStart(column){this._dragSource=column}lockPreviousColumns(column,element){const flat=array_util._.flatten(this.displayColumns,"columns",!0).sort(((a,b)=>Number(b.locked)-Number(a.locked))),index=flat.indexOf(column),previous=flat.slice(0,index).filter((_=>_.flex>0));if(previous?.length>0){const tableElement=this.getTableElement(element);previous.forEach((item=>{const itemCol=tableElement?.querySelector(`teta-head-cell[data-column="${item.name}"]`);itemCol&&(item.flex=0,item.width=itemCol.clientWidth)}))}}resizeColumn(event){null!==event.column&&void 0!==event.column&&(event.column.width=event.newWidth<50?50:event.newWidth,event.column.flex=0),this._columns.next(this.displayColumns),this.saveColumnsState()}autosizeColumn(column,target){const tableElement=this.getTableElement(target);this.setColumnAutoWidth(column,tableElement),this._columns.next(this.displayColumns),this.saveColumnsState()}autosizeAllColumns(target){const tableElement=this.getTableElement(target);array_util._.flatten(this.displayColumns,"columns",!0).forEach((col=>this.setColumnAutoWidth(col,tableElement))),this._columns.next(this.displayColumns),this.saveColumnsState()}reorderColumn(column,insertBefore){if(!this._dragSource)return;const event=new ColumnReorderEvent(this._dragSource,column);if(event.source!==event.target){const sourceParent=this.findParent(event.source,this.displayColumns),targetParent=this.findParent(event.target,this.displayColumns);if(sourceParent&&targetParent){const sourceIndex=sourceParent.indexOf(event.source);sourceParent.splice(sourceIndex,1);let targetIndex=targetParent.indexOf(event.target);insertBefore||(targetIndex+=1),targetParent.splice(targetIndex,0,event.source),event.source.locked=event.target.locked,this.updateColumns(this.displayColumns)}}}getColumnParent(column){return this.findParentColumn(column,this.displayColumns)}startEditRow(cellEvent){this._currentEditCell?.row!==cellEvent?.row&&(null!=this._currentEditCell&&this._editRowStop.next(this._currentEditCell),(null===cellEvent||(0,bool_or_func.H)(!!this.rowEditable)(this.getRowByIndex(cellEvent?.row)?.data))&&(this._editRowStart.next(cellEvent),this._currentEditCell=cellEvent))}startEditCell(cellEvent){if(this._currentEditCell?.column!==cellEvent?.column||this._currentEditCell?.row!==cellEvent?.row){null!=this._currentEditCell&&this._editCellStop.next(this._currentEditCell);const column=this.getColumnByName(cellEvent?.column);if((0,bool_or_func.H)(column?.editable)({row:this.getRowByIndex(cellEvent?.row)?.data,column})){this._editCellStart.next(cellEvent),this._currentEditCell=cellEvent;const key=cellEvent?.event?.key;key&&(1===key.length||"Delete"===key&&!column.required)&&this.clearValue(cellEvent)}}}setActiveRow(row){this._activeRow.next(row)}selectRows(rows){this._selectedRows.next(rows)}selectOrDeselectRow(row){this._selectedRows.value.indexOf(row)>=0?this._selectedRows.next(this._selectedRows.value.filter((_=>_!==row))):this._selectedRows.next([...this._selectedRows.value,row])}selectRange(row){const index=this._displayData.value.findIndex((_=>_.data===row));let minIndex=this._selectedRows.value.reduce(((prev,curr)=>{const newIndex=this._displayData.value.findIndex((_=>_.data===curr));return newIndex<prev?newIndex:prev}),this._displayData.value.length),maxIndex=this._selectedRows.value.reduce(((prev,curr)=>{const newIndex=this._displayData.value.findIndex((_=>_.data===curr));return newIndex>prev?newIndex:prev}),0);index>maxIndex&&(maxIndex=index),index<minIndex&&(minIndex=index),minIndex<index&&index<maxIndex&&(maxIndex=index),this._selectedRows.next([...this._displayData.value.slice(minIndex,maxIndex+1).map((_=>_.data))])}selectRow(row){this.selectType!==SelectType.none&&this._selectedRows.next([...this._selectedRows.value,row])}deselectRow(row){this.selectType!==SelectType.none&&this._selectedRows.next(this._selectedRows.value.filter((_=>_!==row)))}selectAll(){this._selectedRows.next(this._displayData.value.map((_=>_.data)))}deselectAll(){this._selectedRows.next([])}allRowsSelected(){return!!(this._displayData.value?.length&&this._selectedRows.value?.length&&this._displayData.value.every((_=>this._selectedRows.value.findIndex((selected=>selected===_.data))>=0)))||null!=this._selectedRows.value&&0!==this._selectedRows.value.length&&null}setHiddenColumns(value){this.saveHiddenColumns(value),this._hiddenColumns.next(value)}columnIsHidden(column){return this._hiddenColumns.value.indexOf(column.name)>=0}changeValue(coordinates){this._valueChanged.next(coordinates)}setValue(cellValue){let value;value="object"==typeof cellValue.row&&"object"==typeof cellValue.column?{row:this.getRowIndex(cellValue.row.data),column:cellValue.column.name,value:cellValue.value}:cellValue,this._valueSet.next(value)}getRowByIndex(rowIndex){if(null!=rowIndex)return this._displayData?.value[rowIndex]}getRowIndex(row){return this._displayData.value.findIndex((_=>_.data===row))}getEventCell(event){return event.composedPath().find((target=>"teta-cell"===target.tagName?.toLowerCase()))}getEventRow(event){return event.composedPath().find((target=>target?.getAttribute&&target?.getAttribute("data-row")))}getNextEditableCell(coords){const nextCell=this.getNextCell(coords);if(!nextCell)return null;const column=this.getColumnByName(nextCell?.column);return(0,bool_or_func.H)(column.editable)({row:this.getRowByIndex(nextCell.row),column})?nextCell:this.getNextEditableCell(nextCell)}getPreviousEditableCell(coords){const prevCell=this.getPreviousCell(coords);if(!prevCell)return null;const column=this.getColumnByName(prevCell?.column);return(0,bool_or_func.H)(column.editable)({row:this.getRowByIndex(prevCell.row),column})?prevCell:this.getPreviousEditableCell(prevCell)}getNextCell(coords){const columns=this.getFlatColumns();let colIndex=columns.findIndex((col=>col.name===coords?.column)),rowIndex=coords?.row;return colIndex>=0&&rowIndex>=0?(colIndex===columns.length-1?(colIndex=0,rowIndex+=1):colIndex+=1,{column:columns[colIndex]?.name,row:rowIndex}):null}getPreviousCell(coords){const columns=this.getFlatColumns();let colIndex=columns.findIndex((col=>col.name===coords?.column)),rowIndex=coords?.row;return colIndex>=0&&rowIndex>=0?(0===colIndex?(colIndex=columns.length-1,rowIndex-=1):colIndex-=1,{column:columns[colIndex]?.name,row:rowIndex}):null}getNextRowCell(coords){const columns=this.getFlatColumns(),colIndex=columns.findIndex((col=>col.name===coords?.column)),rowIndex=coords?.row;return colIndex>=0&&rowIndex>=0&&rowIndex<this._displayData.value.length-1?{column:columns[colIndex]?.name,row:rowIndex+1}:null}getPreviousRowCell(coords){const columns=this.getFlatColumns(),colIndex=columns.findIndex((col=>col.name===coords?.column)),rowIndex=coords?.row;return colIndex>=0&&rowIndex>1?{column:columns[colIndex]?.name,row:rowIndex-1}:null}getColumnByName(columnName){return array_util._.findRecursive(this.displayColumns,(iterableNode=>columnName===iterableNode.name),"columns")}scrollToIndex(index){this._scrollIndex.next(null),this._scrollIndex.next(index)}getVisibleColumns(){return array_util._.flatten(this._columns.value,"columns",!0).filter((_=>this._hiddenColumns.value.indexOf(_.name)<0)).sort(((a,b)=>Number(b.locked)-Number(a.locked)))}getCellInstance(coords){return coords?{row:this.getRowByIndex(coords.row),column:this.getColumnByName(coords.column)}:null}getFlatColumns(){return array_util._.flatten(this.displayColumns,"columns",!0).sort(((a,b)=>Number(b.locked)-Number(a.locked)))}findParent(column,columns){const found=columns.find((x=>x.name===column.name));if(null!=found)return columns;for(let i=0,l=columns.length;i<l;i++){const col=columns[i];if(col.columns&&col.columns.length){const result=this.findParent(column,col.columns);if(null!=result)return result}}return null}findParentColumn(column,columns){const found=columns.find((x=>x.columns.indexOf(column)>=0));if(null!=found)return found;for(let i=0,l=columns.length;i<l;i++){const col=columns[i];if(col.columns&&col.columns.length){const result=this.findParentColumn(column,col.columns);if(null!=result)return result}}return null}getTableElement(element){return element.closest("teta-table")}setColumnAutoWidth(column,table){const cells=table.querySelectorAll(`teta-cell[data-column="${column.name}"] .cell-text`);let maxWidth=0;cells.forEach((cell=>{cell.scrollWidth>maxWidth&&(maxWidth=cell.scrollWidth)}));const aggCells=table.querySelectorAll(`.aggregate-cell[data-column="${column.name}"] .cell-text`);aggCells?.forEach((cell=>{cell.scrollWidth>maxWidth&&(maxWidth=cell.scrollWidth)})),column.flex=0,column.width=maxWidth+20}clearValue(event){this.setValue({...event,value:null})}static#_=this.ctorParameters=()=>[]};TableService=(0,tslib_es6.Cg)([(0,core.Injectable)({providedIn:"root"}),(0,tslib_es6.Sn)("design:paramtypes",[])],TableService);var AggregationType,table_body_componentngResource=__webpack_require__("./projects/components/src/component/table/table-body/table-body.component.scss?ngResource"),table_body_componentngResource_default=__webpack_require__.n(table_body_componentngResource),scrolling=__webpack_require__("./node_modules/@angular/cdk/fesm2022/scrolling.mjs"),combineLatest=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js"),teta_config_service=__webpack_require__("./projects/components/src/locale/teta-config.service.ts");!function(AggregationType){AggregationType[AggregationType.none=0]="none",AggregationType[AggregationType.sum=1]="sum",AggregationType[AggregationType.avg=2]="avg",AggregationType[AggregationType.min=3]="min",AggregationType[AggregationType.max=4]="max"}(AggregationType||(AggregationType={}));var number_pipe=__webpack_require__("./projects/components/src/pipe/number-pipe/number.pipe.ts"),icon_component=__webpack_require__("./projects/components/src/component/icon/icon/icon.component.ts");var cell_componentngResource=__webpack_require__("./projects/components/src/component/table/cell/cell.component.scss?ngResource"),cell_componentngResource_default=__webpack_require__.n(cell_componentngResource),cell_host_componentngResource=__webpack_require__("./projects/components/src/component/table/cell-host/cell-host.component.scss?ngResource"),cell_host_componentngResource_default=__webpack_require__.n(cell_host_componentngResource),forms_util=__webpack_require__("./projects/components/src/util/forms-util.ts"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs");let CellComponentBase=class CellComponentBase{get cellInvalid(){const control=this.formGroup?.get(this.column?.name);return!!control&&control.invalid}get control(){return this.formGroup?.get(this.column?.name)}set column(column){this._column=column,this.setupControl()}get column(){return this._column}set row(row){this._row=row,this.setupControl()}get row(){return this._row}get formGroup(){return this._formGroup instanceof fesm2022_forms.gE?this._formGroup:this._formGroup instanceof fesm2022_forms.cV?this._formGroup.form:null}get edit(){return this._edit&&this.editable}get editable(){return(0,bool_or_func.H)(this.column.editable)({column:this.column,row:this.row.data})}get index(){return this.svc.getRowIndex(this.row.data)}constructor(svc,cdr){this.svc=svc,this.cdr=cdr,this.cellClass=!0,this._formGroup=(0,core.inject)(fesm2022_forms.ZU,{optional:!0}),this.filterOptions=[],this.dict={},this._alive=!0}ngOnDestroy(){this._alive=!1}ngOnInit(){this.init(),this.formGroup?.controls[this.column.name]?.valueChanges.pipe((0,takeWhile.v)((()=>this._alive))).subscribe((value=>{this.formGroup.updateValueAndValidity(),this.row.valid=this.formGroup?.valid,this.row.data[this.column.name]=this.control.value,this.svc.changeValue({column:this.column.name,row:this.index})}))}init(){this.svc.editRowStart.pipe((0,takeWhile.v)((_=>this._alive))).subscribe((cell=>{this.index!==cell?.row||this._edit||this.start(cell,"row"),this.index!==cell?.row&&this._edit&&this.stop()})),this.svc.editCellStart.pipe((0,takeWhile.v)((_=>this._alive))).subscribe((cell=>{this.index!==cell?.row||this.column.name!==cell?.column||this._edit||this.start(cell,"cell"),this.index===cell?.row&&this.column.name===cell?.column||!this._edit||this.stop()})),this.svc.valueSet.pipe((0,takeWhile.v)((_=>this._alive))).subscribe((cellValue=>{this.index===cellValue.row&&this.column.name===cellValue.column&&(this.row.data[this.column.name]=cellValue.value,this.setupControl(),this.formGroup.updateValueAndValidity(),this.row.valid=this.formGroup.valid,this.cdr.detectChanges(),this.cdr.markForCheck())}))}setupControl(){this.column&&(this.control?this.control.patchValue(this.row?.data[this.column.name],{emitEvent:!1}):this.formGroup.registerControl(this.column.name,forms_util.w.initControlFromColumn(this.column,this.row?.data)),this.column&&this.row&&(this.editable?this.control.enable({emitEvent:!1}):this.control.disable({emitEvent:!1})))}start(initiator,type){this._edit=!0,this.cdr.detectChanges(),this.startEdit(initiator,type)}stop(){this._edit=!1,this.formGroup.updateValueAndValidity(),this.row.valid=this.formGroup?.valid,this.stopEdit(),this.cdr.markForCheck()}static#_=this.ctorParameters=()=>[{type:TableService},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={cellClass:[{type:core.HostBinding,args:["class.cell-component"]}],cellInvalid:[{type:core.HostBinding,args:["class.cell-invalid"]}]}};CellComponentBase=(0,tslib_es6.Cg)([(0,core.Component)({template:""}),(0,tslib_es6.Sn)("design:paramtypes",[TableService,core.ChangeDetectorRef])],CellComponentBase);var numeric_cell_componentngResource=__webpack_require__("./projects/components/src/component/table/default/numeric-cell/numeric-cell.component.scss?ngResource"),numeric_cell_componentngResource_default=__webpack_require__.n(numeric_cell_componentngResource),only_number_directive=__webpack_require__("./projects/components/src/directive/only-number/only-number.directive.ts");let NumericCellComponent=class NumericCellComponent extends CellComponentBase{constructor(svc,cdr){super(svc,cdr),this.svc=svc,this.cdr=cdr}ngOnInit(){super.ngOnInit()}startEdit(initiator,type){initiator?.column===this.column.name&&(this.cdr.detectChanges(),this.input.nativeElement?.focus())}stopEdit(){this.cdr.markForCheck()}static#_=this.ctorParameters=()=>[{type:TableService},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={input:[{type:core.ViewChild,args:["input",{static:!1}]}]}};NumericCellComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-numeric-cell",template:'<span [style.display]="edit ? \'none\' : \'block\'"\n  class="cell-text"\n  [class.cell-text_disabled]="!editable">\n  {{control?.value | tetaNumber : 2}}\n</span>\n@if (edit) {\n  <input #input\n    [tetaOnlyNumber]="true"\n    type="text"\n    class="input row_auto border-radius-0"\n    (keydown.enter)=\'input.blur()\'\n    [formControl]="control"/>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,viewProviders:[forms_util.w.formProvider],standalone:!0,imports:[fesm2022_forms.YN,only_number_directive.n,fesm2022_forms.X1,number_pipe.u],styles:[numeric_cell_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[TableService,core.ChangeDetectorRef])],NumericCellComponent);var date_cell_componentngResource=__webpack_require__("./projects/components/src/component/table/default/date-cell/date-cell.component.scss?ngResource"),date_cell_componentngResource_default=__webpack_require__.n(date_cell_componentngResource),date_picker_component=__webpack_require__("./projects/components/src/component/date-picker/date-picker/date-picker.component.ts");let DateCellComponent=class DateCellComponent extends CellComponentBase{constructor(svc,cdr){super(svc,cdr),this.svc=svc,this.cdr=cdr}ngOnInit(){super.ngOnInit()}startEdit(initiator,type){initiator?.column===this.column.name&&setTimeout((()=>{this.input?.focus(),this.cdr.markForCheck()}),0)}stopEdit(){this.cdr.markForCheck()}static#_=this.ctorParameters=()=>[{type:TableService},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={input:[{type:core.ViewChild,args:["input",{static:!1}]}]}};DateCellComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-date-cell",template:"<span [style.display]=\"edit ? 'none' : 'block'\"\n  class='cell-text'\n  [class.cell-text_disabled]='!editable'>\n  {{control?.value | date : 'dd.MM.yyyy'}}\n</span>\n@if (edit) {\n  <teta-date-picker class='datepicker-table'\n    #input\n    [allowNull]='!column.required'\n    [appendToBody]='true'\n    [showTime]='false'\n  [formControl]='control'></teta-date-picker>\n}\n",changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[date_picker_component.I,fesm2022_forms.YN,fesm2022_forms.X1,common.DatePipe],styles:[date_cell_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[TableService,core.ChangeDetectorRef])],DateCellComponent);var list_cell_componentngResource=__webpack_require__("./projects/components/src/component/table/default/list-cell/list-cell.component.scss?ngResource"),list_cell_componentngResource_default=__webpack_require__.n(list_cell_componentngResource),select_component=__webpack_require__("./projects/components/src/component/select/select/select.component.ts");let ListCellComponent=class ListCellComponent extends CellComponentBase{get displayFilterOptions(){if(this.column?.parentName?.length>0){const parentValue=this.row.data[this.column.parentName];if(parentValue)return this.filterOptions.filter((_=>_.parentId===parentValue))}return this.filterOptions}constructor(svc,cdr){super(svc,cdr),this.svc=svc,this.cdr=cdr,this.verticalAlign=vertical_align_enum.G}startEdit(initiator,type){initiator?.column===this.column.name&&setTimeout((()=>{this.input?.focus(),this.cdr.markForCheck()}),0)}stopEdit(){this.cdr.markForCheck()}ngOnInit(){super.ngOnInit()}getValue(value){if(null===this.filterOptions||void 0===this.filterOptions||!(this.filterOptions instanceof Array))return"";const item=this.filterOptions.find((option=>option.id===value));return null==item?"":item.name}static#_=this.ctorParameters=()=>[{type:TableService},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={input:[{type:core.ViewChild,args:["input",{static:!1}]}]}};ListCellComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-list-cell",template:"<span [style.display]=\"edit ? 'none' : 'block'\"\n  class='cell-text'\n  [class.cell-text_disabled]='!editable'>\n  {{getValue(control.value)}}\n</span>\n@if (edit) {\n  <teta-select #input\n    class='row_auto select-table'\n    [allowNull]='!column.required'\n    [verticalAlign]='verticalAlign.auto'\n    [appendToBody]='true'\n    [options]='displayFilterOptions'\n    [valueRef]=\"'id'\"\n    [textRef]=\"'name'\"\n    [searchRef]=\"displayFilterOptions?.length > 20 ? 'name' : ''\"\n    [formControl]='control'>\n  </teta-select>\n}\n",changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[select_component.w,fesm2022_forms.YN,fesm2022_forms.X1],styles:[list_cell_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[TableService,core.ChangeDetectorRef])],ListCellComponent);var string_cell_componentngResource=__webpack_require__("./projects/components/src/component/table/default/string-cell/string-cell.component.scss?ngResource"),string_cell_componentngResource_default=__webpack_require__.n(string_cell_componentngResource),hint_directive=__webpack_require__("./projects/components/src/directive/hint/hint.directive.ts");let StringCellComponent=class StringCellComponent extends CellComponentBase{constructor(svc,cdr){super(svc,cdr),this.svc=svc,this.cdr=cdr,this.align=align_enum.W}ngOnInit(){super.ngOnInit()}startEdit(initiator,type){initiator?.column===this.column.name&&(this.cdr.detectChanges(),this.input.nativeElement?.focus(),this.input.nativeElement?.select())}stopEdit(){this.cdr.detectChanges()}static#_=this.ctorParameters=()=>[{type:TableService},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={input:[{type:core.ViewChild,args:["input",{static:!1}]}]}};StringCellComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-string-cell",template:'<span [style.display]="edit ? \'none\' : \'block\'"\n  class="cell-text"\n  [tetaHint]="row[column.name]"\n  [align]="align.auto"\n  [appendToBody]="true"\n  [overflownOnly]="true"\n  [class.cell-text_disabled]="!editable">\n  {{control.value}}\n</span>\n@if (edit) {\n  <input #input\n    type="text"\n    class="input row_auto border-radius-0"\n    (keydown.enter)=\'input.blur()\'\n    [formControl]=\'control\'/>\n}\n\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[hint_directive.z,fesm2022_forms.YN,fesm2022_forms.X1],styles:[string_cell_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[TableService,core.ChangeDetectorRef])],StringCellComponent);var boolean_cell_componentngResource=__webpack_require__("./projects/components/src/component/table/default/boolean-cell/boolean-cell.component.scss?ngResource"),boolean_cell_componentngResource_default=__webpack_require__.n(boolean_cell_componentngResource),checkbox_component=__webpack_require__("./projects/components/src/component/checkbox/checkbox/checkbox.component.ts");let BooleanCellComponent=class BooleanCellComponent extends CellComponentBase{constructor(svc,cdr){super(svc,cdr),this.svc=svc,this.cdr=cdr}ngOnInit(){super.ngOnInit()}startEdit(initiator,type){initiator?.column===this.column.name&&(this.cdr.markForCheck(),setTimeout((()=>{this.input?.nativeElement.focus()}),0))}stopEdit(){this.cdr.markForCheck()}static#_=this.ctorParameters=()=>[{type:TableService},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={input:[{type:core.ViewChild,args:["input",{static:!1}]}]}};BooleanCellComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-boolean-cell",template:'<span [style.display]="edit ? \'none\' : \'block\'"\n  class="cell-text"\n  [class.cell-text_disabled]="!editable">\n  {{ control?.value }}\n</span>\n@if (edit) {\n  <teta-checkbox\n    #input\n    [binary]="true"\n    [formControl]=\'control\'\n  ></teta-checkbox>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[checkbox_component.P,fesm2022_forms.YN,fesm2022_forms.X1],styles:[boolean_cell_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[TableService,core.ChangeDetectorRef])],BooleanCellComponent);const cellComponentsMap=(new Map).set(filter_type_enum.R.number,NumericCellComponent).set(filter_type_enum.R.date,DateCellComponent).set(filter_type_enum.R.list,ListCellComponent).set(filter_type_enum.R.string,StringCellComponent).set(filter_type_enum.R.boolean,BooleanCellComponent).set(filter_type_enum.R.custom,StringCellComponent);let CellHostComponent=class CellHostComponent{constructor(viewContainerRef){this.viewContainerRef=viewContainerRef,this._init=!1}ngOnInit(){var column;Object.prototype.isPrototypeOf.call(CellComponentBase,this.column.cellComponent)||(this.column.cellComponent=(column=this.column,cellComponentsMap.has(column.filterType)?cellComponentsMap.get(column.filterType):StringCellComponent)),this._componentRef=this.viewContainerRef.createComponent(this.column.cellComponent),this._componentRef.instance.column=this.column,this._componentRef.instance.row=this.row,this._componentRef.instance.filterOptions=this.filterOptions,this._componentRef.instance.dict=this.dict,this._init=!0}ngOnChanges(changes){this._init&&(Object.prototype.hasOwnProperty.call(changes,"row")&&(this._componentRef.instance.row=this.row),Object.prototype.hasOwnProperty.call(changes,"column")&&(this._componentRef.instance.column=this.column),Object.prototype.hasOwnProperty.call(changes,"filterOptions")&&(this._componentRef.instance.filterOptions=this.filterOptions),Object.prototype.hasOwnProperty.call(changes,"dict")&&(this._componentRef.instance.dict=this.dict),this._componentRef.injector.get(core.ChangeDetectorRef).markForCheck())}static#_=this.ctorParameters=()=>[{type:core.ViewContainerRef}];static#_2=this.propDecorators={column:[{type:core.Input}],row:[{type:core.Input}],filterOptions:[{type:core.Input}],dict:[{type:core.Input}]}};CellHostComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-cell-host",template:"",changeDetection:core.ChangeDetectionStrategy.OnPush,viewProviders:[forms_util.w.formProvider],standalone:!0,styles:[cell_host_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ViewContainerRef])],CellHostComponent);let CellComponent=class CellComponent{constructor(){this.tableCellClass=!0}static#_=this.propDecorators={column:[{type:core.Input}],filterOptions:[{type:core.Input}],dict:[{type:core.Input}],row:[{type:core.Input}],tableCellClass:[{type:core.HostBinding,args:["class.cell"]}]}};CellComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-cell",template:'<teta-cell-host [row]="row"\n                [column]="column"\n                [filterOptions]="filterOptions"\n                [dict]="dict"></teta-cell-host>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[CellHostComponent],styles:[cell_componentngResource_default()]})],CellComponent);var selection_cell_componentngResource=__webpack_require__("./projects/components/src/component/table/selection-cell/selection-cell.component.scss?ngResource"),selection_cell_componentngResource_default=__webpack_require__.n(selection_cell_componentngResource);let SelectionCellComponent=class SelectionCellComponent{constructor(_svc,_cdr){this._svc=_svc,this._cdr=_cdr,this.tableCellClass=!0,this.selectedRows=[],this._alive=!0}selectRow(value){value?this._svc.selectRow(this.row):this._svc.deselectRow(this.row)}ngOnInit(){this._svc.selectedRows.pipe((0,takeWhile.v)((_=>this._alive))).subscribe((_=>{this.selectedRows=_,this._cdr.markForCheck()}))}ngOnDestroy(){this._alive=!1}static#_=this.ctorParameters=()=>[{type:TableService},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={row:[{type:core.Input}],tableCellClass:[{type:core.HostBinding,args:["class.cell"]}]}};SelectionCellComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-selection-cell",template:'<teta-checkbox [binary]="true"\n               [noLabel]="true"\n               [ngModel]="selectedRows?.indexOf(row) >= 0"\n               (ngModelChange)="selectRow($event)"\n               (click)="$event.stopPropagation()"></teta-checkbox>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[checkbox_component.P,fesm2022_forms.YN],styles:[selection_cell_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[TableService,core.ChangeDetectorRef])],SelectionCellComponent);var scrollable_directive=__webpack_require__("./projects/components/src/directive/scrollable/scrollable.directive.ts"),scrollable_component=__webpack_require__("./projects/components/src/directive/scrollable/scrollable/scrollable.component.ts");let TableBodyComponent=class TableBodyComponent{set data(data){this._data=data}get data(){return this._data}set columns(columns){this._columns=columns,this.locked=this._columns?.filter((_=>!0===_.locked)),this.unlocked=this._columns?.filter((_=>!1===_.locked));const startWidth=this.selectType===SelectType.checkBox?28:0;this.lockedFlex=this.locked.reduce(((prev,curr)=>prev+curr.flex),0),this.lockedWidth=this.locked.reduce(((prev,curr)=>prev+curr.width),startWidth),this.totalFlex=this._columns.reduce(((prev,curr)=>prev+curr.flex),0),this.totalWidth=this._columns.reduce(((prev,curr)=>prev+curr.width),startWidth)}get columns(){return this._columns}constructor(_svc,_elementRef,_config,_cdr){this._svc=_svc,this._elementRef=_elementRef,this._config=_config,this._cdr=_cdr,this.selectedRows=[],this.tableBodyClass=!0,this.scrollChange=new core.EventEmitter,this.locked=[],this.unlocked=[],this.selectTypeEnum=SelectType,this.aggregationType=AggregationType,this._columns=[],this._alive=!0,this._hiddenColumns=[],this.trackTableRow=(index,row)=>this.trackRow?this.trackRow(index,row.data):row.data.id}setActiveRow(row,event){event.shiftKey||event.ctrlKey||this._svc.setActiveRow(row)}ngOnInit(){var _this=this;this.locale=this._config.locale,(0,combineLatest.z)([this._svc.columns,this._svc.hiddenColumns]).pipe((0,takeWhile.v)((_=>this._alive))).subscribe((values=>{const[columns,hiddenColumns]=values;this._hiddenColumns=hiddenColumns,this.columns=array_util._.flatten(columns,"columns",!0).filter((_=>this._hiddenColumns.indexOf(_.name)<0)),this._cdr.markForCheck()})),this._svc.displayData.pipe((0,takeWhile.v)((_=>this._alive))).subscribe((_=>{this.data=_,this._cdr.markForCheck(),this.viewport?.checkViewportSize()})),this._svc.dict.pipe((0,takeWhile.v)((_=>this._alive))).subscribe((_=>{this.dict=_,this._cdr.markForCheck()})),this._svc.scrollIndex.pipe((0,takeWhile.v)((()=>this._alive))).subscribe(function(){var _ref=(0,asyncToGenerator.A)((function*(index){if(_this.viewport)_this.viewport.scrollToIndex(index,"auto");else{const row=_this._elementRef.nativeElement.querySelector(`.table-row[data-row="${index}"]`);row?.scrollIntoView()}_this._cdr.markForCheck()}));return function(_x){return _ref.apply(this,arguments)}}()),this._svc.activeRow.pipe((0,takeWhile.v)((_=>this._alive))).subscribe(function(){var _ref2=(0,asyncToGenerator.A)((function*(_){_this.activeRow=_,_this._cdr.markForCheck()}));return function(_x2){return _ref2.apply(this,arguments)}}()),this.addResizeObserver()}ngOnDestroy(){this._alive=!1,this.removeResizeObserver()}getAggregateValue(column){return column.aggregate===AggregationType.sum?this.getSum(column.name):column.aggregate===AggregationType.avg?this.getSum(column.name)/this.data.length:column.aggregate===AggregationType.min?this.getMin(column.name):column.aggregate===AggregationType.max?this.getMax(column.name):null}getAggregateText(column){return column.aggregate===AggregationType.sum?"sum":column.aggregate===AggregationType.avg?"avg":column.aggregate===AggregationType.min?"min":column.aggregate===AggregationType.max?"max":""}emitScroll(event){this.scrollChange.emit(event)}addResizeObserver(){this._obs=new ResizeObserver((_=>{this.viewport?.checkViewportSize()})),this._obs.observe(this._elementRef.nativeElement)}removeResizeObserver(){this._obs.unobserve(this._elementRef.nativeElement),this._obs.disconnect()}getSum(columnName){return this.data?.reduce(((accum,current)=>{const val=parseFloat(current.data[columnName]);return accum+(isNaN(val)?0:val)}),0)}getMin(columnName){return this.data?.reduce(((accum,current)=>null!=accum&&accum<=current.data[columnName]?accum:current.data[columnName]),null)}getMax(columnName){return this.data?.reduce(((accum,current)=>null!=accum&&accum>=current.data[columnName]?accum:current.data[columnName]),null)}static#_=this.ctorParameters=()=>[{type:TableService},{type:core.ElementRef},{type:teta_config_service.C},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={virtual:[{type:core.Input}],activeRow:[{type:core.Input}],selectedRows:[{type:core.Input}],additionalComponent:[{type:core.Input}],aggregate:[{type:core.Input}],selectType:[{type:core.Input}],rowClass:[{type:core.Input}],trackRow:[{type:core.Input}],trackColumns:[{type:core.Input}],viewport:[{type:core.ViewChild,args:[scrolling.d6,{static:!1}]}],tableBodyClass:[{type:core.HostBinding,args:["class.table-body"]}],scrollChange:[{type:core.Output}]}};TableBodyComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-table-body",template:'@if (virtual && data.length > 0) {\n  <teta-scrollable class="table-body-container"\n    style="padding-bottom: 12px"\n    [showScrollbars]="true"\n    >\n    <cdk-virtual-scroll-viewport tetaScrollable\n      class="table-body-container"\n      (scroll)="emitScroll($event)"\n      [itemSize]="28">\n      <ng-container *cdkVirtualFor="let row of data;templateCacheSize: 0; let rowIndex = index; trackBy: trackTableRow;">\n        <ng-container *ngTemplateOutlet="bodyTemplate; context: {row: row, rowIndex: rowIndex}"></ng-container>\n      </ng-container>\n    </cdk-virtual-scroll-viewport>\n  </teta-scrollable>\n} @else {\n  <teta-scrollable class="table-body-container"\n    style="padding-bottom: 12px"\n    direction="column"\n    [showScrollbars]="true"\n    (scroll)="emitScroll($event)">\n    <div class="table-body-container">\n      @if (!data?.length) {\n        <div class="column column_auto"\n          style="position: absolute; top:0; bottom:16px;left:0;right:0;"\n          >\n          <ng-content></ng-content>\n        </div>\n      }\n      @for (row of data; track trackTableRow(rowIndex, row); let rowIndex = $index) {\n        <ng-container *ngTemplateOutlet="bodyTemplate; context: {row: row, rowIndex: rowIndex}"></ng-container>\n      }\n      @if (aggregate) {\n        <ng-container *ngTemplateOutlet="aggTemplate;"></ng-container>\n      }\n      <ng-container *ngTemplateOutlet="emptyRow;"></ng-container>\n    </div>\n  </teta-scrollable>\n}\n\n<ng-template #bodyTemplate let-row="row" let-rowIndex="rowIndex">\n  <div class="table-row"\n    ngForm\n    (click)="setActiveRow(row.data, $event)"\n    [attr.data-row]="rowIndex"\n    [class.table-row_odd]="rowIndex % 2 === 1"\n    [ngClass]="rowClass ? rowClass(row.data, rowIndex) : \'\'"\n    [class.table-row_selected]="selectedRows && selectedRows.indexOf(row.data) >= 0"\n    [style.flex-grow]="totalFlex"\n    [style.flex-basis.px]="totalWidth"\n    [style.min-width.px]="totalWidth">\n    @if (locked.length > 0) {\n      <div class="table-row_locked"\n        [style.flex-grow]="lockedFlex"\n        [style.flex-basis.px]="lockedWidth"\n        [style.min-width.px]="lockedWidth"\n        [style.zIndex]="row.data === activeRow ? 2 : 1">\n        @if (selectType === selectTypeEnum.checkBox && locked.length) {\n          <teta-selection-cell\n            [row]="row.data"\n          style="width: 28px;"></teta-selection-cell>\n        }\n        @for (column of locked; track trackColumns(colIndex, column); let colIndex = $index) {\n          <teta-cell\n            [attr.data-row]="rowIndex"\n            [attr.data-column]="column.name"\n            [column]="column"\n            [filterOptions]="dict?dict[column.name]:[]"\n            [dict]="dict"\n            [row]="row"\n            [ngClass]="column.cellClass"\n            [attr.tabindex]="0"\n            [style.flex-grow]="column.flex"\n            [style.flex-basis.px]="column.width"\n          ></teta-cell>\n        }\n      </div>\n    }\n    @if (selectType === selectTypeEnum.checkBox && locked.length < 1) {\n      <teta-selection-cell\n        [row]="row.data"\n      style="width: 28px;"></teta-selection-cell>\n    }\n    @for (column of unlocked; track trackColumns(colIndex, column); let colIndex = $index) {\n      <teta-cell\n        [attr.data-row]="rowIndex"\n        [attr.data-column]="column.name"\n        [column]="column"\n        [filterOptions]="dict?dict[column.name]:[]"\n        [dict]="dict"\n        [row]="row"\n        [ngClass]="column.cellClass"\n        [attr.tabindex]="0"\n        [style.flex-grow]="column.flex"\n        [style.flex-basis.px]="column.width"\n      ></teta-cell>\n    }\n  </div>\n</ng-template>\n\n<ng-template #aggTemplate>\n  @if (locale | async; as loc) {\n    @if (aggregate) {\n      <div class="table-row"\n        [class.table-row_virtual]="virtual"\n        [style.flex-grow]="totalFlex"\n        [style.flex-basis.px]="totalWidth"\n        [style.min-width.px]="totalWidth">\n        @if (locked.length > 0) {\n          <div class="table-row_locked"\n            [style.flex-grow]="lockedFlex"\n            [style.flex-basis.px]="lockedWidth"\n            [style.min-width.px]="lockedWidth">\n            @if (selectType === selectTypeEnum.checkBox && locked.length < 1) {\n              <div class="cell align-center justify-content-center"\n                style="width: 28px;"\n                >\n                <teta-icon [name]="\'sumColor\'"></teta-icon>\n              </div>\n            }\n            @for (column of locked; track trackColumns(colIndex, column); let colIndex = $index) {\n              <div class="cell cell-component aggregate-cell"\n                [attr.data-column]="column.name"\n                [ngClass]="column.cellClass"\n                [attr.tabindex]="0"\n                [style.flex-grow]="column.flex"\n                [style.flex-basis.px]="column.width">\n                @if (column.aggregate !== aggregationType.none) {\n                  <span class="cell-text cell-text_numeric font-title-3"\n                    >\n                    {{loc[getAggregateText(column)]}}:\n                    {{getAggregateValue(column) | tetaNumber : 2}}\n                  </span>\n                }\n              </div>\n            }\n          </div>\n        }\n        @if (selectType === selectTypeEnum.checkBox && locked.length < 1) {\n          <div class="cell align-center justify-content-center"\n            style="width: 28px;"\n            >\n            <teta-icon [name]="\'sumColor\'"></teta-icon>\n          </div>\n        }\n        @for (column of unlocked; track trackColumns(colIndex, column); let colIndex = $index) {\n          <div class="cell cell-component aggregate-cell"\n            [attr.data-column]="column.name"\n            [ngClass]="column.cellClass"\n            [attr.tabindex]="0"\n            [style.flex-grow]="column.flex"\n            [style.flex-basis.px]="column.width">\n            @if (column.aggregate !== aggregationType.none) {\n              <span class="cell-text cell-text_numeric font-title-3"\n                >\n                {{loc[getAggregateText(column)]}}:\n                {{getAggregateValue(column) | tetaNumber : 2}}\n              </span>\n            }\n          </div>\n        }\n      </div>\n    }\n  }\n</ng-template>\n<ng-template #emptyRow>\n  <div class="empty-table-row"\n    style="height: 0.1px"\n    [style.flex-grow]="totalFlex"\n    [style.flex-basis.px]="totalWidth"\n    [style.min-width.px]="totalWidth">\n  </div>\n</ng-template>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[scrollable_component.x,scrolling.d6,scrolling.yg,scrollable_directive.r,scrolling.E$,common.NgTemplateOutlet,fesm2022_forms.YN,common.NgClass,SelectionCellComponent,CellComponent,icon_component.R,common.AsyncPipe,number_pipe.u],styles:[table_body_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[TableService,core.ElementRef,teta_config_service.C,core.ChangeDetectorRef])],TableBodyComponent);var context_menu_directive=__webpack_require__("./projects/components/src/directive/context-menu/context-menu.directive.ts");var table_head_componentngResource=__webpack_require__("./projects/components/src/component/table/table-head/table-head.component.scss?ngResource"),table_head_componentngResource_default=__webpack_require__.n(table_head_componentngResource);var table_head_group_componentngResource=__webpack_require__("./projects/components/src/component/table/table-head-group/table-head-group.component.scss?ngResource"),table_head_group_componentngResource_default=__webpack_require__.n(table_head_group_componentngResource);class TableUtil{static getColumnLeaves(column){return column?.columns?.length>0?array_util._.flatten(column.columns,"columns",!0):null}static getData(data,state){let result=[...data];return result=TableUtil.filterData(result,state),result=TableUtil.sortData(result,state),result}static sortData(data,state){let result=[...data];const func=sortParam=>{result=TableUtil.sort(result,sortParam)};return state?.sortParams?.length>0&&state.sortParams.forEach(func),result}static filterData(data,state){let result=[...data];if(state?.stringFilters?.length){const stringFilter=filter=>{result=TableUtil.filterString(result,filter)};state.stringFilters.forEach(stringFilter)}if(state?.dateFilters?.length){const dateFilter=filter=>{result=TableUtil.filterDate(result,filter)};state.dateFilters.forEach(dateFilter)}if(state?.numericFilters?.length){const numericFilter=filter=>{result=TableUtil.filterNumber(result,filter)};state.numericFilters.forEach(numericFilter)}if(state?.listFilters?.length){const listFilter=filter=>{result=TableUtil.filterList(result,filter)};state.listFilters.forEach(listFilter)}return result}static filterString(data,filter){if(null===filter.value||void 0===filter.value)return data;return data.filter((row=>{const item=row;return filter.type===string_filter_type_enum.o.EndsWith?item[filter.field]?.toLowerCase().endsWith(filter.value?.toLowerCase()):filter.type===string_filter_type_enum.o.Equals?item[filter.field]?.toLowerCase()===filter.value?.toLowerCase():filter.type===string_filter_type_enum.o.StartsWith?item[filter.field]?.toLowerCase().startsWith(filter.value?.toLowerCase()):item[filter.field]?.toLowerCase().indexOf(filter.value?.toLowerCase())>=0}))}static filterDate(data,filter){return data.filter((row=>{const item=row;return(null===filter.value.lessThan||void 0===filter.value.lessThan||filter.value.lessThan?.getTime()>=item[filter.field]?.getTime())&&(null===filter.value.greaterThan||void 0===filter.value.greaterThan||filter.value.greaterThan?.getTime()<=item[filter.field]?.getTime())}))}static filterNumber(data,filter){return data.filter((row=>{const item=row;return(null===filter.value.lessThan||void 0===filter.value.lessThan||""===filter.value.lessThan?.toString()||filter.value.lessThan>=item[filter.field])&&(null===filter.value.greaterThan||void 0===filter.value.greaterThan||""===filter.value.greaterThan?.toString()||filter.value.greaterThan<=item[filter.field])&&(null===filter.value.equalsTo||void 0===filter.value.equalsTo||""===filter.value.equalsTo?.toString()||filter.value.equalsTo===item[filter.field])}))}static filterList(data,filter){if(null===filter.value||void 0===filter.value||filter.value.length<1)return data;return data.filter((row=>{const item=row;return filter.type===list_filter_type_enum.f.Excluded?filter.value.indexOf(item[filter.field])<0:filter.value.indexOf(item[filter.field])>=0}))}static sort(data,sortParam){return[...data.sort(sortParam.asc?TableUtil.asc(sortParam.field):TableUtil.desc(sortParam.field))]}static desc(field){return(a,b)=>a[field]>b[field]?-1:1}static asc(field){return(a,b)=>a[field]<b[field]?-1:1}}var head_cell_componentngResource=__webpack_require__("./projects/components/src/component/table/head-cell/head-cell.component.scss?ngResource"),head_cell_componentngResource_default=__webpack_require__.n(head_cell_componentngResource);class ColumnResizeEvent{constructor(column,newWidth){this.column=column,this.newWidth=newWidth}}var map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js");var visibility_dropdown_tab_componentngResource=__webpack_require__("./projects/components/src/component/table/table-head/visibility-dropdown-tab/visibility-dropdown-tab.component.scss?ngResource"),visibility_dropdown_tab_componentngResource_default=__webpack_require__.n(visibility_dropdown_tab_componentngResource),button_component=__webpack_require__("./projects/components/src/component/button/button/button.component.ts"),toolbar_component=__webpack_require__("./projects/components/src/component/toolbar/toolbar/toolbar.component.ts");var tree_item_toggle_componentngResource=__webpack_require__("./projects/components/src/component/tree/tree-item-toggle/tree-item-toggle.component.scss?ngResource"),tree_item_toggle_componentngResource_default=__webpack_require__.n(tree_item_toggle_componentngResource),tree_service=__webpack_require__("./projects/components/src/component/tree/tree.service.ts");let TreeItemToggleComponent=class TreeItemToggleComponent{constructor(service,_cdr){this.service=service,this._cdr=_cdr}ngOnInit(){this.open=this.service.openItems.pipe((0,map.T)((_=>{const found=_?.find((x=>this.service.compareItems(x)===this.service.compareItems(this.item)));return null!=found})))}static#_=this.ctorParameters=()=>[{type:tree_service.y},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={item:[{type:core.Input}]}};TreeItemToggleComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-tree-item-toggle",template:"<teta-icon [name]=\"(open | async) ? 'arrowDownKey' : 'arrowRightKey'\"\n           class=\"tree__icon\"></teta-icon>\n",changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[icon_component.R,common.AsyncPipe],styles:[tree_item_toggle_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[tree_service.y,core.ChangeDetectorRef])],TreeItemToggleComponent);var teta_template_directive=__webpack_require__("./projects/components/src/directive/teta-template/teta-template.directive.ts"),tree_component=__webpack_require__("./projects/components/src/component/tree/tree/tree.component.ts");let VisibilityDropdownTabComponent=class VisibilityDropdownTabComponent{get openItems(){return null==this._openItems&&(this._openItems=this.columns.map((_=>_))),this._openItems}set openItems(openItems){this._openItems=openItems}get childMode(){return this.columns.find((_=>_.columns?.length>0))}constructor(_svc,_config,_elementRef,_cdr){this._svc=_svc,this._config=_config,this._elementRef=_elementRef,this._cdr=_cdr,this._alive=!0,this.compareItems=item=>item.name,this.setChildrenVisibility=(column,visible,hiddenColumns)=>{visible?this.showColumn(column,hiddenColumns):this.hideColumn(column,hiddenColumns),column.columns&&column.columns.forEach((x=>{this.setChildrenVisibility(x,visible,hiddenColumns)}))},this.setParentsVisibility=(column,visible,hiddenColumns)=>{visible?this.showParents(column,hiddenColumns):this.hideParents(column,hiddenColumns)},this.locale=this._config.locale,this._svc.hiddenColumns.pipe((0,takeWhile.v)((_=>this._alive)),(0,map.T)((_=>[..._]))).subscribe((_=>{this.hiddenColumns=_}))}columnIsHidden(column){return this.hiddenColumns.indexOf(column.name)>=0}allColumnsVisible(){if(this.hiddenColumns?.length<=0)return!0;return!!array_util._.flatten(this.columns,"columns").find((_=>this.hiddenColumns.indexOf(_.name)<0))&&null}setAllColumns(value){this.hiddenColumns=value?[]:array_util._.flatten(this.columns,"columns").map((_=>_.name))}setColumnsVisibility(){this._svc.setHiddenColumns(this.hiddenColumns)}setColumnVisibility(item,visible){this.setChildrenVisibility(item,visible,this.hiddenColumns),this.setParentsVisibility(item,visible,this.hiddenColumns)}showParents(column,hiddenColumns){const parent=this.findParentColumn(column,this.columns);parent&&this.columnIsHidden(parent)&&(this.showColumn(parent,hiddenColumns),this.showParents(parent,hiddenColumns))}hideParents(column,hiddenColumns){const parent=this.findParentColumn(column,this.columns);parent&&!this.columnIsHidden(parent)&&parent.columns&&parent.columns.every((_=>this.columnIsHidden(_)))&&(this.hideColumn(parent,hiddenColumns),this.hideParents(parent,hiddenColumns))}hideColumn(column,hiddenColumns){hiddenColumns.push(column.name)}showColumn(column,hiddenColumns){hiddenColumns.splice(hiddenColumns.indexOf(column.name),1)}findParentColumn(column,columns){return array_util._.findRecursive(columns,(iterableNode=>iterableNode.columns?.indexOf(column)>=0),"columns")}ngOnDestroy(){this._alive=!1}static#_=this.ctorParameters=()=>[{type:TableService},{type:teta_config_service.C},{type:core.ElementRef},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={columns:[{type:core.Input}],column:[{type:core.Input}],state:[{type:core.Input}],data:[{type:core.Input}],close:[{type:core.Input}]}};VisibilityDropdownTabComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-visibility-dropdown-tab",template:'@if (locale | async; as loc) {\n  <div class="list-item padding-left-6 padding-top-2" [class.padding-left-9]="childMode">\n    <teta-checkbox [binary]="true"\n      [allowNull]="true"\n      [ngModel]="allColumnsVisible()"\n      (ngModelChange)="setAllColumns($event)">\n      {{loc.all}}\n    </teta-checkbox>\n  </div>\n  <div class="list-divider"></div>\n  <teta-scrollable class="padding-v-2 column column_auto">\n    <teta-tree [data]="columns"\n      [openItems]="openItems"\n      (openItemsChange)="openItems = $event"\n      [childNodeName]="\'columns\'"\n      [compareItems]="compareItems">\n      <ng-template tetaTemplate let-item>\n        <div class="tree__item" style="align-items: unset">\n          @if (item.columns?.length > 0) {\n            <teta-tree-item-toggle [item]="item"></teta-tree-item-toggle>\n          }\n          <teta-checkbox\n            style="flex-grow: 1;"\n            [ngModel]="!columnIsHidden(item)"\n            (ngModelChange)="setColumnVisibility(item, $event)"\n            (click)="$event.stopPropagation()"\n            [binary]="true"\n            >\n            {{item.caption}}\n          </teta-checkbox>\n        </div>\n      </ng-template>\n    </teta-tree>\n  </teta-scrollable>\n  <teta-toolbar class="justify-content-end">\n    <button type="button"\n      teta-button\n      [disabled]="allColumnsVisible() === false"\n      [palette]="\'primary\'"\n      (click)="setColumnsVisibility()">\n      {{loc.apply}}\n    </button>\n  </teta-toolbar>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[checkbox_component.P,fesm2022_forms.YN,scrollable_component.x,tree_component.g,teta_template_directive.i,TreeItemToggleComponent,toolbar_component.H,button_component.Q,common.AsyncPipe],styles:[visibility_dropdown_tab_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[TableService,teta_config_service.C,core.ElementRef,core.ChangeDetectorRef])],VisibilityDropdownTabComponent);var filter_dropdown_tab_componentngResource=__webpack_require__("./projects/components/src/component/table/table-head/filter-dropdown-tab/filter-dropdown-tab.component.scss?ngResource"),filter_dropdown_tab_componentngResource_default=__webpack_require__.n(filter_dropdown_tab_componentngResource);class FilterComponentBase{}var numeric_filter_componentngResource=__webpack_require__("./projects/components/src/component/filter/numeric-filter/numeric-filter.component.scss?ngResource"),numeric_filter_componentngResource_default=__webpack_require__.n(numeric_filter_componentngResource),input_component=__webpack_require__("./projects/components/src/component/input/input/input.component.ts");let NumericFilterComponent=class NumericFilterComponent extends FilterComponentBase{set state(val){this.state$=val,this.filter=this.getFilter(),this.changeDetector.detectChanges()}get state(){return this.state$}constructor(changeDetector,_config){super(),this.changeDetector=changeDetector,this._config=_config,this.filterOptions=[],this.filterChanged=new core.EventEmitter,this.locale=this._config.locale}ngOnInit(){this.filter=this.getFilter()}getFilter(){let filter=this.state.numericFilters?.find((f=>f.field===this.column.filterField));return null==filter&&(filter=this.state.addNumericFilter(new NumericFilter({value:new NumericFilterValue,field:this.column.filterField,name:this.column.name,strict:!0}))),filter}static#_=this.ctorParameters=()=>[{type:core.ChangeDetectorRef},{type:teta_config_service.C}];static#_2=this.propDecorators={column:[{type:core.Input}],data:[{type:core.Input}],filterOptions:[{type:core.Input}],filterChanged:[{type:core.Output}],state:[{type:core.Input}]}};NumericFilterComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-numeric-filter",template:'@if (locale | async; as loc) {\n  <div class="form-row padding-3">\n    <teta-input [label]="loc.from">\n      <input class="input" type="text"\n        style="width: 110px"\n        [tetaOnlyNumber]="true"\n        [ngModel]="filter.value?.greaterThan"\n        (ngModelChange)="filter.value.greaterThan=$event"/>\n      </teta-input>\n      <teta-input [label]="loc.to">\n        <input class="input" type="text"\n          style="width: 110px"\n          [tetaOnlyNumber]="true"\n          [ngModel]="filter.value?.lessThan"\n          (ngModelChange)="filter.value.lessThan=$event"/>\n        </teta-input>\n      </div>\n    }\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[input_component.S,fesm2022_forms.YN,only_number_directive.n,common.AsyncPipe],styles:[numeric_filter_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ChangeDetectorRef,teta_config_service.C])],NumericFilterComponent);var date_filter_componentngResource=__webpack_require__("./projects/components/src/component/filter/date-filter/date-filter.component.scss?ngResource"),date_filter_componentngResource_default=__webpack_require__.n(date_filter_componentngResource);let DateFilterComponent=class DateFilterComponent extends FilterComponentBase{set state(val){this.state$=val,this.filter=this.getFilter(),this.changeDetector.detectChanges(),this.changeDetector.markForCheck()}get state(){return this.state$}constructor(changeDetector,_config){super(),this.changeDetector=changeDetector,this._config=_config,this.filterOptions=[],this.filterChanged=new core.EventEmitter,this.locale=this._config.locale}ngOnInit(){this.filter=this.getFilter()}getFilter(){let filter=this.state.dateFilters.find((f=>f.field===this.column.filterField));return null==filter&&(filter=this.state.addDateFilter(new DateFilter({value:new DateFilterValue,field:this.column.filterField,name:this.column.name}))),filter}static#_=this.ctorParameters=()=>[{type:core.ChangeDetectorRef},{type:teta_config_service.C}];static#_2=this.propDecorators={column:[{type:core.Input}],data:[{type:core.Input}],filterOptions:[{type:core.Input}],filterChanged:[{type:core.Output}],state:[{type:core.Input}]}};DateFilterComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-date-filter",template:'@if (locale | async; as loc) {\n  <div class="form-row padding-3">\n    <teta-input [label]="loc.from">\n      <teta-date-picker style="width: 110px"\n        [ngModel]="filter.value?.greaterThan"\n        [appendToBody]="false"\n      (ngModelChange)="filter.value.greaterThan=$event"></teta-date-picker>\n    </teta-input>\n    <teta-input [label]="loc.to">\n      <teta-date-picker style="width: 110px"\n        [ngModel]="filter.value?.lessThan"\n        [appendToBody]="false"\n      (ngModelChange)="filter.value.lessThan=$event"></teta-date-picker>\n    </teta-input>\n  </div>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[input_component.S,date_picker_component.I,fesm2022_forms.YN,common.AsyncPipe],styles:[date_filter_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ChangeDetectorRef,teta_config_service.C])],DateFilterComponent);var list_filter_componentngResource=__webpack_require__("./projects/components/src/component/filter/list-filter/list-filter.component.scss?ngResource"),list_filter_componentngResource_default=__webpack_require__.n(list_filter_componentngResource),text_field_component=__webpack_require__("./projects/components/src/component/input/text-field/text-field.component.ts");let ListFilterComponent=class ListFilterComponent extends FilterComponentBase{get visibleOptions(){return this.filterOptions?.filter((option=>option.name?.toLowerCase().toString().indexOf(this.search?.toLowerCase())>=0))}set state(val){this.state$=val,this.filter=this.getFilter(),this.changeDetector.detectChanges()}get state(){return this.state$}constructor(changeDetector,_config){super(),this.changeDetector=changeDetector,this._config=_config,this.filterOptions=[],this.filterChanged=new core.EventEmitter,this.search="",this.locale=this._config.locale}ngOnInit(){}all(){if(!this.filter?.value||0===this.filter?.value?.length)return!1;const notSet=this.visibleOptions?.find((_=>this.filter?.value?.indexOf(_.id)<0));return!notSet||null}setAll(value){value?this.setFilter(this.visibleOptions?.map((_=>_.id))):this.setFilter([])}setType(){this.excluded=!this.excluded,this.filter.type=this.excluded?list_filter_type_enum.f.Excluded:list_filter_type_enum.f.None}setFilter(value){this.filter.value=value,this.filterChanged.emit(this.filter)}getFilter(){let filter=this.state.listFilters?.find((f=>f.field===this.column.filterField));return filter||(filter=this.state.addListFilter(new ListFilter({field:this.column.filterField,value:[],type:this.column.listFilterType,name:this.column.name}))),this.excluded=filter.type===list_filter_type_enum.f.Excluded,filter}static#_=this.ctorParameters=()=>[{type:core.ChangeDetectorRef},{type:teta_config_service.C}];static#_2=this.propDecorators={column:[{type:core.Input}],data:[{type:core.Input}],filterOptions:[{type:core.Input}],filterChanged:[{type:core.Output}],state:[{type:core.Input}]}};ListFilterComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-list-filter",template:'<div class="padding-2">\n  <teta-text-field [(ngModel)]="search"></teta-text-field>\n</div>\n<teta-scrollable class="column column_auto" [contentClass]="[\'list\', \'padding-v-2\']">\n  <div class="list-item">\n    <teta-checkbox [binary]="true"\n      [allowNull]="true"\n      [ngModel]="all()"\n      (ngModelChange)="setAll($event)">\n      {{(locale | async)?.all}}\n    </teta-checkbox>\n  </div>\n  <div class="list-divider"></div>\n  @for (option of visibleOptions; track option) {\n    <div class="list-item">\n      <teta-checkbox [ngModel]="filter.value"\n        (ngModelChange)="setFilter($event)"\n        [value]="option.id"\n        [binary]="false">\n        {{option.name}}\n      </teta-checkbox>\n    </div>\n  }\n</teta-scrollable>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[text_field_component.L,fesm2022_forms.YN,scrollable_component.x,checkbox_component.P,common.AsyncPipe],styles:[list_filter_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ChangeDetectorRef,teta_config_service.C])],ListFilterComponent);var string_filter_componentngResource=__webpack_require__("./projects/components/src/component/filter/string-filter/string-filter.component.scss?ngResource"),string_filter_componentngResource_default=__webpack_require__.n(string_filter_componentngResource);let StringFilterComponent=class StringFilterComponent extends FilterComponentBase{set state(val){this.state$=val,this.filter=this.getFilter(),this.changeDetector.detectChanges()}get state(){return this.state$}constructor(changeDetector,_config){super(),this.changeDetector=changeDetector,this._config=_config,this.filterOptions=[],this.filterChanged=new core.EventEmitter,this.locale=this._config.locale}ngOnInit(){}setFilter(){this.filterChanged.emit(this.filter)}getFilter(){let filter=this.state.stringFilters.find((f=>f.field===this.column.filterField));return filter||(filter=this.state.addStringFilter(new StringFilter({value:"",field:this.column.filterField,type:this.column.stringFilterType,name:this.column.name}))),filter.type=this.column.stringFilterType,filter}static#_=this.ctorParameters=()=>[{type:core.ChangeDetectorRef},{type:teta_config_service.C}];static#_2=this.propDecorators={column:[{type:core.Input}],data:[{type:core.Input}],filterOptions:[{type:core.Input}],filterChanged:[{type:core.Output}],state:[{type:core.Input}]}};StringFilterComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-string-filter",template:'<div class="padding-3">\n  <teta-input [label]="(locale | async)?.search">\n    <input type="text" class="input" [(ngModel)]="filter.value" (blur)="setFilter()" (keydown.enter)="setFilter()" />\n  </teta-input>\n</div>\n\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[input_component.S,fesm2022_forms.YN,common.AsyncPipe],styles:[string_filter_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ChangeDetectorRef,teta_config_service.C])],StringFilterComponent);var boolean_filter_componentngResource=__webpack_require__("./projects/components/src/component/filter/boolean-filter/boolean-filter.component.scss?ngResource"),boolean_filter_componentngResource_default=__webpack_require__.n(boolean_filter_componentngResource),radio_button_component=__webpack_require__("./projects/components/src/component/radio/radio-button/radio-button.component.ts"),radio_component=__webpack_require__("./projects/components/src/component/radio/radio/radio.component.ts");let BooleanFilterComponent=class BooleanFilterComponent extends FilterComponentBase{set state(val){this.state$=val,this.filter=this.getFilter(),this.changeDetector.detectChanges()}get state(){return this.state$}constructor(changeDetector,_config){super(),this.changeDetector=changeDetector,this._config=_config,this.filterOptions=[],this.filterChanged=new core.EventEmitter,this.locale=this._config.locale}ngOnInit(){}setFilter(){this.filterChanged.emit(this.filter)}getFilter(){let filter=this.state.booleanFilters.find((f=>f.field===this.column.filterField));return filter||(filter=this.state.addBooleanFilter(new BooleanFilter({value:null,field:this.column.filterField,name:this.column.name}))),filter}static#_=this.ctorParameters=()=>[{type:core.ChangeDetectorRef},{type:teta_config_service.C}];static#_2=this.propDecorators={column:[{type:core.Input}],data:[{type:core.Input}],filterOptions:[{type:core.Input}],filterChanged:[{type:core.Output}],state:[{type:core.Input}]}};BooleanFilterComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-boolean-filter",template:'@if (locale | async; as loc) {\n  <div class="padding-3">\n    <teta-radio [ngModel]="filter.value" (ngModelChange)="setFilter()">\n      <teta-radio-button [value]="null">{{loc?.notSelected}}</teta-radio-button>\n      <teta-radio-button [value]="true">{{loc?.yes}}</teta-radio-button>\n      <teta-radio-button [value]="false">{{loc?.no}}</teta-radio-button>\n    </teta-radio>\n  </div>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[radio_component.v,fesm2022_forms.YN,radio_button_component.d,common.AsyncPipe],styles:[boolean_filter_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ChangeDetectorRef,teta_config_service.C])],BooleanFilterComponent);const filterComponentsMap=(new Map).set(filter_type_enum.R.number,NumericFilterComponent).set(filter_type_enum.R.date,DateFilterComponent).set(filter_type_enum.R.list,ListFilterComponent).set(filter_type_enum.R.string,StringFilterComponent).set(filter_type_enum.R.boolean,BooleanFilterComponent).set(filter_type_enum.R.custom,StringFilterComponent);let FilterHostComponent=class FilterHostComponent{set column(val){this._column=val,this._init&&(this._componentRef.instance.filterField=this._column,this._componentRef.injector.get(core.ChangeDetectorRef).detectChanges())}set state(val){this._state=val,this._init&&(this._componentRef.instance.state=this._state,this._componentRef.injector.get(core.ChangeDetectorRef).detectChanges())}set data(data){this._data=data,this._init&&(this._componentRef.instance.data=this._data,this._componentRef.injector.get(core.ChangeDetectorRef).detectChanges())}set filterOptions(val){this._filterOptions=val,this._init&&(this._componentRef.instance.filterOptions=this._filterOptions,this._componentRef.injector.get(core.ChangeDetectorRef).detectChanges())}constructor(viewContainerRef){this.viewContainerRef=viewContainerRef,this.filterChanged=new core.EventEmitter,this._alive=!0}ngOnInit(){var item;FilterComponentBase.isPrototypeOf(this._column.filterComponent)||(this._column.filterComponent=(item=this._column,filterComponentsMap.has(item.filterType)?filterComponentsMap.get(item.filterType):StringFilterComponent)),this._componentRef=this.viewContainerRef.createComponent(this._column.filterComponent),this._componentRef.instance.column=this._column,this._componentRef.instance.state=this._state,this._componentRef.instance.data=this._data,this._componentRef.instance.filterOptions=this._filterOptions,this._componentRef.injector.get(core.ChangeDetectorRef).detectChanges(),this._init=!0,this._componentRef.instance.filterChanged.pipe((0,takeWhile.v)((_=>this._alive))).subscribe((filter=>{this.filterChanged.emit(filter)}))}ngOnDestroy(){this._alive=!1}static#_=this.ctorParameters=()=>[{type:core.ViewContainerRef}];static#_2=this.propDecorators={column:[{type:core.Input}],state:[{type:core.Input}],data:[{type:core.Input}],filterOptions:[{type:core.Input}],filterChanged:[{type:core.Output}]}};FilterHostComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-filter-host",template:"",changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0}),(0,tslib_es6.Sn)("design:paramtypes",[core.ViewContainerRef])],FilterHostComponent);let FilterDropdownTabComponent=class FilterDropdownTabComponent{enter(){this.applyFilter()}constructor(_svc,_config,_elementRef,_cdr){this._svc=_svc,this._config=_config,this._elementRef=_elementRef,this._cdr=_cdr,this.locale=this._config.locale,this.filterOptions=this._svc.filterOptions}clearFilter(){this._svc.clearFilter(this.column),this.close(),this._cdr.markForCheck()}applyFilter(){this._svc.setState(new FilterState(this.state)),this.close(),this._cdr.markForCheck()}ngOnInit(){}static#_=this.ctorParameters=()=>[{type:TableService},{type:teta_config_service.C},{type:core.ElementRef},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={columns:[{type:core.Input}],column:[{type:core.Input}],state:[{type:core.Input}],data:[{type:core.Input}],close:[{type:core.Input}],enter:[{type:core.HostListener,args:["keydown.enter"]}]}};FilterDropdownTabComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-filter-dropdown-tab",template:'@if (locale | async; as loc) {\n  @if (filterOptions | async; as options) {\n    <teta-filter-host [column]="column"\n      [data]="data"\n      [state]="state"\n    [filterOptions]="options[column.name]"></teta-filter-host>\n  }\n  <teta-toolbar class="justify-content-between">\n    <button type="button" teta-button [palette]="\'text\'" [view]="\'ghost\'" (click)="clearFilter()">\n      {{loc.clear}}\n    </button>\n    <button type="button" teta-button [palette]="\'primary\'" (click)="applyFilter()">\n      <teta-icon [name]="\'tick\'" [palette]="\'white\'"></teta-icon>\n      {{loc.apply}}\n    </button>\n  </teta-toolbar>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[FilterHostComponent,toolbar_component.H,button_component.Q,icon_component.R,common.AsyncPipe],styles:[filter_dropdown_tab_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[TableService,teta_config_service.C,core.ElementRef,core.ChangeDetectorRef])],FilterDropdownTabComponent);var main_dropdown_tab_componentngResource=__webpack_require__("./projects/components/src/component/table/table-head/main-dropdown-tab/main-dropdown-tab.component.scss?ngResource"),main_dropdown_tab_componentngResource_default=__webpack_require__.n(main_dropdown_tab_componentngResource);class SortEvent{constructor(column,shiftKey){this.column=column,this.shiftKey=shiftKey}}let MainDropdownTabComponent=class MainDropdownTabComponent{constructor(_svc,_config,_elementRef,_cdr){this._svc=_svc,this._config=_config,this._elementRef=_elementRef,this._cdr=_cdr,this.locale=this._config.locale}get sortParam(){return StateUtil.getSortState(this.state,this.column)}get filtered(){return StateUtil.isColumnFiltered(this.state,this.column)}get parent(){return this._svc.getColumnParent(this.column)}pinColumn(){this._svc.pinColumn(this.column)}sortAsc(event){this._svc.sortAsc(new SortEvent(this.column,event.shiftKey))}sortDesc(event){this._svc.sortDesc(new SortEvent(this.column,event.shiftKey))}clearSort(){this._svc.clearSort(this.column)}clearAllSort(){this._svc.clearAllSort()}hasFilteredColumns(){return StateUtil.hasFilteredColumns(this.state)}hasSortedColumns(){return StateUtil.hasSortedColumns(this.state)}restoreDefaultColumns(){this._svc.restoreDefaultColumns()}clearFilter(){this._svc.clearFilter(this.column),this.close(),this._cdr.markForCheck()}clearAllFilters(){this._svc.clearAllFilters(),this.close(),this._cdr.markForCheck()}autosizeColumn(){this._svc.autosizeColumn(this.column,this.headCellElementRef.nativeElement)}autosizeAllColumns(){this._svc.autosizeAllColumns(this.headCellElementRef.nativeElement)}ngOnInit(){}static#_=this.ctorParameters=()=>[{type:TableService},{type:teta_config_service.C},{type:core.ElementRef},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={columns:[{type:core.Input}],column:[{type:core.Input}],state:[{type:core.Input}],data:[{type:core.Input}],close:[{type:core.Input}],headCellElementRef:[{type:core.Input}]}};MainDropdownTabComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-main-dropdown-tab",template:'@if (locale | async; as loc) {\n  <div class="list column_auto">\n    @if (!parent) {\n      <div class="list-item list-item_interactive"\n        (click)="pinColumn()">\n        {{column.locked ? loc.unpin : loc.pin}}\n      </div>\n      <div class="list-divider"></div>\n    }\n    @if (column.sortable) {\n      <div class="list-item list-item_interactive"\n        (click)="sortAsc($event)">\n        {{loc.sortAsc}}\n      </div>\n      <div class="list-item list-item_interactive"\n        (click)="sortDesc($event)">\n        {{loc.sortDesc}}\n      </div>\n      @if (hasSortedColumns()) {\n        @if (sortParam) {\n          <div class="list-item list-item_interactive"\n            (click)="clearSort()">\n            {{loc.clearSort}}\n          </div>\n        }\n        <div class="list-item list-item_interactive"\n          (click)="clearAllSort()">\n          {{loc.clearAllSort}}\n        </div>\n        <div class="list-divider"></div>\n      }\n    }\n    @if (hasFilteredColumns()) {\n      @if (filtered) {\n        <div class="list-item list-item_interactive"\n          (click)="clearFilter()">\n          {{loc.clearFilter}}\n        </div>\n      }\n      <div class="list-item list-item_interactive"\n        (click)="clearAllFilters()">\n        {{loc.clearAllFilters}}\n      </div>\n      <div class="list-divider"></div>\n    }\n    <div class="list-item list-item_interactive" (click)="autosizeColumn()">\n      {{loc.autosizeColumn}}\n    </div>\n    <div class="list-item list-item_interactive" (click)="autosizeAllColumns()">\n      {{loc.autosizeAll}}\n    </div>\n    <div class="list-divider"></div>\n    <div class="list-item list-item_interactive" (click)="restoreDefaultColumns()">\n      {{loc.resetColumnsSize}}\n    </div>\n  </div>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[common.AsyncPipe],styles:[main_dropdown_tab_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[TableService,teta_config_service.C,core.ElementRef,core.ChangeDetectorRef])],MainDropdownTabComponent);var resize_drag_directive=__webpack_require__("./projects/components/src/directive/resize-drag/resize-drag.directive.ts"),dropdown_content_directive=__webpack_require__("./projects/components/src/component/dropdown/dropdown-content.directive.ts");var head_cell_dropdown_componentngResource=__webpack_require__("./projects/components/src/component/table/head-cell-dropdown/head-cell-dropdown.component.scss?ngResource"),head_cell_dropdown_componentngResource_default=__webpack_require__.n(head_cell_dropdown_componentngResource),tab_content_directive=__webpack_require__("./projects/components/src/component/tabs/tab-content.directive.ts"),tab_title_directive=__webpack_require__("./projects/components/src/component/tabs/tab-title.directive.ts"),tab_component=__webpack_require__("./projects/components/src/component/tabs/tab/tab.component.ts"),tabs_component=__webpack_require__("./projects/components/src/component/tabs/tabs/tabs.component.ts");let HeadCellDropdownComponent=class HeadCellDropdownComponent{constructor(_svc,_config,_cdr){this._svc=_svc,this._config=_config,this._cdr=_cdr,this.dropDownOpenChange=new core.EventEmitter,this.closeDropdown=()=>{this.dropDownOpen=!1,this.dropDownOpenChange.emit(!1)}}trackIndex(index){return index}static#_=this.ctorParameters=()=>[{type:TableService},{type:teta_config_service.C},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={columns:[{type:core.Input}],column:[{type:core.Input}],state:[{type:core.Input}],data:[{type:core.Input}],tabTemplates:[{type:core.Input}],dropDownOpen:[{type:core.Input}],dropDownOpenChange:[{type:core.Output}]}};HeadCellDropdownComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-head-cell-dropdown",template:'@if (dropDownOpen) {\n  <teta-tabs class="column_auto">\n    @for (tab of tabTemplates; track trackIndex($index)) {\n      @if (tab.showTab(column)) {\n        <teta-tab>\n          <ng-template tetaTabTitle>\n            @if (tab.icon) {\n              <teta-icon [name]="tab.icon" [palette]="\'text\'"></teta-icon>\n            }\n          </ng-template>\n          <ng-template tetaTabContent>\n            <ng-container\n          *ngTemplateOutlet="tab.template; context: {\n            column: column,\n            columns: columns,\n            data: data,\n            state: state,\n            close: closeDropdown\n          }"></ng-container>\n          </ng-template>\n        </teta-tab>\n      }\n    }\n  </teta-tabs>\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[tabs_component.O,tab_component.j,tab_title_directive.X,icon_component.R,tab_content_directive.A,common.NgTemplateOutlet],styles:[head_cell_dropdown_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[TableService,teta_config_service.C,core.ChangeDetectorRef])],HeadCellDropdownComponent);var head_cell_host_componentngResource=__webpack_require__("./projects/components/src/component/table/head-cell-host/head-cell-host.component.scss?ngResource"),head_cell_host_componentngResource_default=__webpack_require__.n(head_cell_host_componentngResource);let HeadCellComponentBase=class HeadCellComponentBase{static#_=this.propDecorators={column:[{type:core.HostBinding,args:["class.table-head__cell__component"]}]}};HeadCellComponentBase=(0,tslib_es6.Cg)([(0,core.Component)({template:""})],HeadCellComponentBase);var default_head_cell_componentngResource=__webpack_require__("./projects/components/src/component/table/default/default-head-cell/default-head-cell.component.scss?ngResource"),default_head_cell_componentngResource_default=__webpack_require__.n(default_head_cell_componentngResource);let DefaultHeadCellComponent=class DefaultHeadCellComponent extends HeadCellComponentBase{set column(val){this._column=val,this._cdr.detectChanges()}get column(){return this._column}set columns(val){this._columns=val,this._cdr.detectChanges()}get columns(){return this._columns}set data(data){this._data=data,this._cdr.detectChanges()}get data(){return this._data}constructor(_cdr){super(),this._cdr=_cdr}ngOnInit(){}static#_=this.ctorParameters=()=>[{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={column:[{type:core.Input}],columns:[{type:core.Input}],data:[{type:core.Input}]}};DefaultHeadCellComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-default-head-cell",template:'<div class="column column_auto" [tetaHint]="column.hint || column.caption">\n  <div class="table-head__cell__text">\n    {{column.caption}}\n  </div>\n  @if (column.unit) {\n    <div class="table-head__cell__text font-caption color-text-70">\n      [{{column.unit}}]\n    </div>\n  }\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[hint_directive.z],styles:[default_head_cell_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ChangeDetectorRef])],DefaultHeadCellComponent);let HeadCellHostComponent=class HeadCellHostComponent{set column(column){this._column=column,this.init&&(this.componentRef.instance.column=this._column)}get column(){return this._column}set columns(columns){this._columns=columns,this.init&&(this.componentRef.instance.columns=this._columns)}get columns(){return this._columns}set data(data){this._data=data,this.init&&(this.componentRef.instance.data=this._data)}get data(){return this._data}constructor(viewContainerRef){this.viewContainerRef=viewContainerRef}ngOnInit(){HeadCellComponentBase.isPrototypeOf(this.column.headCellComponent)||(this.column.headCellComponent=DefaultHeadCellComponent),this.componentRef=this.viewContainerRef.createComponent(this.column.headCellComponent),this.componentRef.instance.column=this.column,this.componentRef.instance.columns=this.columns,this.componentRef.instance.data=this.data,this.init=!0}static#_=this.ctorParameters=()=>[{type:core.ViewContainerRef}];static#_2=this.propDecorators={column:[{type:core.Input}],columns:[{type:core.Input}],data:[{type:core.Input}]}};HeadCellHostComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-head-cell-host",template:"",changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,styles:[head_cell_host_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ViewContainerRef])],HeadCellHostComponent);var dropdown_head_directive=__webpack_require__("./projects/components/src/component/dropdown/dropdown-head.directive.ts"),dropdown_component=__webpack_require__("./projects/components/src/component/dropdown/dropdown/dropdown.component.ts");let HeadCellComponent=class HeadCellComponent{get defaultTemplates(){return[{icon:"menu",template:this.mainTemplate,order:10,showTab:()=>!0},{icon:"filter",template:this.filterTemplate,order:20,showTab:column=>column.filterable},{icon:"eye",template:this.columnsTemplate,order:30,showTab:()=>!0}]}get elementRef(){return this._elementRef}get tabTemplates(){return this.column?.headDropdownConfig&&this.column.headDropdownConfig.tabs?.length>0?"replace"===this.column.headDropdownConfig.strategy?this.column.headDropdownConfig.tabs:[...this.defaultTemplates,...this.column.headDropdownConfig.tabs].sort(((a,b)=>a.order-b.order)):this.defaultTemplates}constructor(_svc,_app,_elementRef,_cdr){this._svc=_svc,this._app=_app,this._elementRef=_elementRef,this._cdr=_cdr,this.verticalAlign=vertical_align_enum.G,this.align=align_enum.W,this.dropDownOpen=!1,this.showDrag=null,this._alive=!0}dragstart(event){event&&event.dataTransfer&&event.dataTransfer.setData("text","move"),this._svc.dragStart(this.column)}dragenter(){this.rect=this._elementRef.nativeElement.getBoundingClientRect()}allowDrop(event){event.preventDefault(),this.rect&&this._svc.dragSource&&(this.showDrag=event.clientX>=this.rect.x+this.rect.width/2?"right":"left")}dragleave(event){event.preventDefault(),this.showDrag=null}dragend(){this.showDrag=null}drop(event){"move"===(event.dataTransfer&&event.dataTransfer.getData("text"))&&this._svc.reorderColumn(this.column,"left"===this.showDrag),this.showDrag=null}ngOnInit(){this.columns=this._svc.columns,this.state=this._svc.state,this.sortParam=this.state.pipe((0,map.T)((_=>StateUtil.getSortState(_,this.column)))),this.filtered=this.state.pipe((0,map.T)((_=>StateUtil.isColumnFiltered(_,this.column)))),this.iconName=(0,combineLatest.z)([this.sortParam,this.filtered]).pipe((0,map.T)((data=>{const[sortParam,filtered]=data;return sortParam&&filtered?sortParam.asc?"filterSortUp":"filterSortDown":sortParam?sortParam.asc?"arrowUp":"arrowDown":filtered?"filter":""}))),this.observer=new IntersectionObserver((entries=>{entries.forEach((entry=>{!entry.isIntersecting&&this.dropDownOpen&&(this.dropDownOpen=!1,this._cdr.detectChanges())}))}),{root:this._svc.getTableElement(this._elementRef.nativeElement),threshold:[1]}),this.observer.observe(this._elementRef.nativeElement)}ngOnDestroy(){this._alive=!1,this.observer.unobserve(this._elementRef.nativeElement),this.observer.disconnect()}resizeStart(){const rect=this._elementRef.nativeElement.getBoundingClientRect();this._startPosition=rect.x,this._svc.lockPreviousColumns(this.column,this._elementRef.nativeElement)}resizeProcess(event){if(this._startPosition&&event.pageX>0){const position=this._startPosition;requestAnimationFrame((()=>{this._svc.resizeColumn(new ColumnResizeEvent(this.column,event.pageX-position)),this._app.tick()}))}}resizeEnd(){this._startPosition=null}static#_=this.ctorParameters=()=>[{type:TableService},{type:core.ApplicationRef},{type:core.ElementRef},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={column:[{type:core.Input}],showHeadCellMenu:[{type:core.Input}],data:[{type:core.Input}],dropDownOpen:[{type:core.HostBinding,args:["class.table-head__cell_active"]}],mainTemplate:[{type:core.ViewChild,args:["mainTemplate",{static:!0}]}],filterTemplate:[{type:core.ViewChild,args:["filterTemplate",{static:!0}]}],columnsTemplate:[{type:core.ViewChild,args:["columnsTemplate",{static:!0}]}],dragenter:[{type:core.HostListener,args:["dragenter",["$event"]]}],allowDrop:[{type:core.HostListener,args:["dragover",["$event"]]}],dragleave:[{type:core.HostListener,args:["dragleave",["$event"]]}],dragend:[{type:core.HostListener,args:["dragend",["$event"]]}],drop:[{type:core.HostListener,args:["drop",["$event"]]}]}};HeadCellComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-head-cell",template:'<div class="row row_auto">\n  <teta-dropdown\n    [autoCloseIgnore]="[\'enter\', \'inside\']"\n    [verticalAlign]="verticalAlign.auto"\n    [appendToBody]="true"\n    [(open)]="dropDownOpen"\n    [align]="align.auto"\n    (click)="$event.preventDefault()"\n    [class.table-head__cell__menu_open]="dropDownOpen"\n    class="column column_auto justify-content-center"\n  >\n    <div\n      tetaDropdownHead\n      draggable="true"\n      class="table-head__cell__wrapper"\n      (dragstart)="dragstart($event)"\n      [ngClass]="column.headCellClass"\n    >\n      <teta-head-cell-host [column]="column" [columns]="columns | async" [data]="data"></teta-head-cell-host>\n      @if (iconName | async; as icon) {\n      <teta-icon [palette]="\'text\'" [name]="icon"></teta-icon>\n      }\n    </div>\n    @if (showHeadCellMenu) {\n    <teta-head-cell-dropdown\n      tetaDropdownContent\n      [tabTemplates]="tabTemplates"\n      [data]="data"\n      [column]="column"\n      [columns]="columns | async"\n      [state]="state | async"\n      [(dropDownOpen)]="dropDownOpen"\n    ></teta-head-cell-dropdown>\n    }\n  </teta-dropdown>\n  @if (showDrag) {\n  <div\n    class="drop-area"\n    draggable="false"\n    [class.drop-area_left]="showDrag === \'left\'"\n    [class.drop-area_right]="showDrag === \'right\'"\n  ></div>\n  }\n</div>\n<div\n  class="table-head__cell__resize"\n  draggable="false"\n  (dragstart)="$event.preventDefault(); $event.stopPropagation()"\n  (drag)="$event.preventDefault(); $event.stopPropagation()"\n  [tetaResizeDrag]="\'vertical\'"\n  (resizeStart)="resizeStart()"\n  (resizeProcess)="resizeProcess($event)"\n  (resizeEnd)="resizeEnd()"\n>\n  <div class="table-head__cell__resize_drag"></div>\n</div>\n<ng-template\n  #mainTemplate\n  let-column="column"\n  let-columns="columns"\n  let-data="data"\n  let-state="state"\n  let-close="close"\n>\n  <teta-main-dropdown-tab\n    [column]="column"\n    [state]="state"\n    [close]="close"\n    [headCellElementRef]="elementRef"\n  ></teta-main-dropdown-tab>\n</ng-template>\n<ng-template\n  #filterTemplate\n  let-column="column"\n  let-columns="columns"\n  let-data="data"\n  let-state="state"\n  let-close="close"\n>\n  <teta-filter-dropdown-tab [column]="column" [state]="state" [close]="close" [data]="data"></teta-filter-dropdown-tab>\n</ng-template>\n<ng-template\n  #columnsTemplate\n  let-column="column"\n  let-columns="columns"\n  let-data="data"\n  let-state="state"\n  let-close="close"\n>\n  <teta-visibility-dropdown-tab\n    [column]="column"\n    [columns]="columns"\n    [state]="state"\n    [close]="close"\n    [data]="data"\n  ></teta-visibility-dropdown-tab>\n</ng-template>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[dropdown_component.P,dropdown_head_directive.z,common.NgClass,HeadCellHostComponent,icon_component.R,HeadCellDropdownComponent,dropdown_content_directive.K,resize_drag_directive.y,MainDropdownTabComponent,FilterDropdownTabComponent,VisibilityDropdownTabComponent,common.AsyncPipe],styles:[head_cell_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[TableService,core.ApplicationRef,core.ElementRef,core.ChangeDetectorRef])],HeadCellComponent);let TableHeadGroupComponent=class TableHeadGroupComponent{set column(column){this._column=column}get column(){return this._column}get flexGrow(){if(this.column?.columns?.length>0){const flat=array_util._.flatten(this.column?.columns,"columns",!0).filter((_=>this._hiddenColumns.indexOf(_.name)<0));return flat?.reduce(((prev,curr)=>prev+curr.flex),0)}return this.column.flex}get flexBasis(){if(this.column?.columns?.length>0){const flat=array_util._.flatten(this.column?.columns,"columns",!0).filter((_=>this._hiddenColumns.indexOf(_.name)<0));return flat?.reduce(((prev,curr)=>prev+curr.width),0)}return this.column.width}get _leaves(){return TableUtil.getColumnLeaves(this._column)?.filter((_=>this._hiddenColumns.indexOf(_.name)<0))}constructor(_svc,_cdr){this._svc=_svc,this._cdr=_cdr,this._alive=!0,this._svc.hiddenColumns.pipe((0,takeWhile.v)((_=>this._alive))).subscribe((_=>{this._hiddenColumns=_,this._cdr.markForCheck()}))}columnIsHidden(column){return this._svc.columnIsHidden(column)}ngOnInit(){}ngOnDestroy(){this._alive=!1}static#_=this.ctorParameters=()=>[{type:TableService},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={showHeadCellMenu:[{type:core.Input}],data:[{type:core.Input}],column:[{type:core.Input}],flexGrow:[{type:core.HostBinding,args:["style.flex-grow"]}],flexBasis:[{type:core.HostBinding,args:["style.min-width.px"]},{type:core.HostBinding,args:["style.flex-basis.px"]}]}};TableHeadGroupComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-table-head-group",template:'@if (column.columns && column.columns.length > 0) {\n  <div class="table-head__group__container">\n    <div class="table-head__group__caption">\n      {{column.caption}}\n    </div>\n    <div class="table-head__group__children">\n      @for (col of column.columns; track col) {\n        @if (!columnIsHidden(col)) {\n          <teta-table-head-group\n            class="table-head__group"\n            [data]="data"\n            [showHeadCellMenu]="showHeadCellMenu"\n          [column]="col"></teta-table-head-group>\n        }\n      }\n    </div>\n  </div>\n}\n@if (!column.columns || column.columns.length === 0) {\n  @if (!columnIsHidden(column)) {\n    <teta-head-cell\n      class="table-head__cell"\n      [data]="data"\n      [showHeadCellMenu]="showHeadCellMenu"\n      [attr.data-column]="column.name"\n    [column]="column"></teta-head-cell>\n  }\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[HeadCellComponent],styles:[table_head_group_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[TableService,core.ChangeDetectorRef])],TableHeadGroupComponent);var selection_head_cell_componentngResource=__webpack_require__("./projects/components/src/component/table/selection-head-cell/selection-head-cell.component.scss?ngResource"),selection_head_cell_componentngResource_default=__webpack_require__.n(selection_head_cell_componentngResource);let SelectionHeadCellComponent=class SelectionHeadCellComponent{constructor(_svc,_cdr){this._svc=_svc,this._cdr=_cdr,this.tableCellClass=!0,this._alive=!0}selectAll(value){value?this._svc.selectAll():this._svc.deselectAll()}allSelected(){return this._svc.allRowsSelected()}ngOnInit(){this._svc.selectedRows.pipe((0,takeWhile.v)((_=>this._alive))).subscribe((_=>{this._cdr.markForCheck()}))}ngOnDestroy(){this._alive=!1}static#_=this.ctorParameters=()=>[{type:TableService},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={tableCellClass:[{type:core.HostBinding,args:["class.table-head__group"]}]}};SelectionHeadCellComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-selection-head-cell",template:'<teta-checkbox [binary]="true"\n               [allowNull]="true"\n               [noLabel]="true"\n               [ngModel]="allSelected()"\n               (ngModelChange)="selectAll($event)"></teta-checkbox>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[checkbox_component.P,fesm2022_forms.YN],styles:[selection_head_cell_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[TableService,core.ChangeDetectorRef])],SelectionHeadCellComponent);let TableHeadComponent=class TableHeadComponent{set columns(columns){this._columns=columns,this._cdr.markForCheck()}get columns(){return this._columns}get locked(){return this._columns.filter((_=>!0===_.locked&&this._hiddenColumns.indexOf(_.name)<0))}get unlocked(){return this._columns.filter((_=>!1===_.locked&&this._hiddenColumns.indexOf(_.name)<0))}constructor(_svc,_cdr){this._svc=_svc,this._cdr=_cdr,this.tableHeadClass=!0,this.selectTypeEnum=SelectType,this._alive=!0,this._columns=[],this._hiddenColumns=[]}track(index,item){return item.name}ngOnInit(){(0,combineLatest.z)([this._svc.columns,this._svc.hiddenColumns]).pipe((0,takeWhile.v)((_=>this._alive))).subscribe((values=>{const[columns,hiddenColumns]=values;this._hiddenColumns=hiddenColumns,this.columns=columns;const locked=array_util._.flatten(columns,"columns",!0).filter((_=>this._hiddenColumns.indexOf(_.name)<0&&_.locked)),startWidth=this.selectType===SelectType.checkBox?28:0;this.lockedFlex=locked.reduce(((prev,curr)=>prev+curr.flex),0),this.lockedWidth=locked.reduce(((prev,curr)=>prev+curr.width),startWidth),this._cdr.markForCheck()})),this._svc.state.pipe((0,takeWhile.v)((_=>this._alive))).subscribe((_=>{this.state=_,this._cdr.markForCheck()})),this._svc.displayData.pipe((0,takeWhile.v)((_=>this._alive))).subscribe((_=>{this.data=_.map((_=>_.data)),this._cdr.markForCheck()}))}ngOnDestroy(){this._alive=!1}static#_=this.ctorParameters=()=>[{type:TableService},{type:core.ChangeDetectorRef}];static#_2=this.propDecorators={selectType:[{type:core.Input}],showHeadCellMenu:[{type:core.Input}],tableHeadClass:[{type:core.HostBinding,args:["class.table-head"]}]}};TableHeadComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-table-head",template:'@if (locked?.length) {\n  <div class="table-head_locked"\n    [style.flex-grow]="lockedFlex"\n    [style.flex-basis.px]="lockedWidth"\n    [style.min-width.px]="lockedWidth">\n    @if (selectType === selectTypeEnum.checkBox) {\n      <teta-selection-head-cell\n      style="width: 28px;"></teta-selection-head-cell>\n    }\n    @for (column of locked; track track($index, column)) {\n      <teta-table-head-group\n        class="table-head__group"\n        [data]="data"\n        [showHeadCellMenu]="showHeadCellMenu"\n      [column]="column"></teta-table-head-group>\n    }\n  </div>\n}\n@if (unlocked?.length) {\n  @if (selectType === selectTypeEnum.checkBox && locked?.length < 1) {\n    <teta-selection-head-cell\n    style="width: 28px;"></teta-selection-head-cell>\n  }\n  @for (column of unlocked; track track($index, column)) {\n    <teta-table-head-group\n      class="table-head__group"\n      [data]="data"\n      [showHeadCellMenu]="showHeadCellMenu"\n    [column]="column"></teta-table-head-group>\n  }\n}\n',changeDetection:core.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[SelectionHeadCellComponent,TableHeadGroupComponent],styles:[table_head_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[TableService,core.ChangeDetectorRef])],TableHeadComponent);let TableComponent=class TableComponent{set state(state){this._state=state}set scrollToIndex(index){this._svc.scrollToIndex(index)}constructor(_svc,_elementRef){this._svc=_svc,this._elementRef=_elementRef,this.data=[],this.columns=[],this.selectType=SelectType.mouse,this.trackRow=(index,row)=>row.id?row.id:index,this.trackColumns=(index,column)=>column.name,this.editType=EditType.cell,this.editEvent=EditEvent.doubleClick,this.showHeadCellMenu=!0,this.contextMenuOpenChange=new core.EventEmitter,this.stateChange=new core.EventEmitter,this.bodyLeft=new core.EventEmitter,this.activeRowChange=new core.EventEmitter,this.selectedRowsChange=new core.EventEmitter,this.cellClick=new core.EventEmitter,this.cellDoubleClick=new core.EventEmitter,this.cellFocus=new core.EventEmitter,this.cellKeyDown=new core.EventEmitter,this.rowLeft=new core.EventEmitter,this.rowEditStart=new core.EventEmitter,this.rowEditEnd=new core.EventEmitter,this.cellEditStart=new core.EventEmitter,this.cellEditEnd=new core.EventEmitter,this.valueChange=new core.EventEmitter,this.tableService=new core.EventEmitter,this.tableClass=!0,this.verticalAlign=vertical_align_enum.G,this.align=align_enum.W,this._alive=!0,this.onScroll=event=>{this._headElement.scrollLeft=event.target.scrollLeft},this._svc.state.pipe((0,takeWhile.v)((()=>this._alive)),(0,filter.p)((state=>state!==this._state))).subscribe((state=>this.stateChange.next(state))),this._svc.editCellStart.pipe((0,takeWhile.v)((()=>this._alive))).subscribe((item=>this.cellEditStart.emit(this._svc.getCellInstance(item)))),this._svc.editCellStop.pipe((0,takeWhile.v)((()=>this._alive))).subscribe((item=>this.cellEditEnd.emit(this._svc.getCellInstance(item)))),this._svc.editRowStart.pipe((0,takeWhile.v)((()=>this._alive))).subscribe((item=>this.rowEditStart.emit(this._svc.getCellInstance(item)))),this._svc.editRowStop.pipe((0,takeWhile.v)((()=>this._alive))).subscribe((item=>this.rowEditEnd.emit(this._svc.getRowByIndex(item?.row)))),this._svc.selectedRows.pipe((0,takeWhile.v)((()=>this._alive))).subscribe((items=>{this.selectedRowsList=items,this.selectedRowsChange.emit(items)})),this._svc.activeRow.pipe((0,takeWhile.v)((()=>this._alive))).subscribe((item=>{this.activeRow=item,this.activeRowChange.emit(item)})),this._svc.valueChanged.pipe((0,takeWhile.v)((()=>this._alive))).subscribe((coordinates=>{this.valueChange.emit(this._svc.getCellInstance(coordinates))}))}handleClickOutsideAnyRow(event){const coordinates=this.getCoordinates(event),row=this.getRow(event),eventIsOnRow=this.eventIsOnRow(event);setTimeout((()=>{coordinates&&(this.cellClick.emit({...this._svc.getCellInstance(coordinates),event}),this.editEvent===EditEvent.click?this.startEditRowOrCell(coordinates):!this._svc.currentEditCell||coordinates.row===this._svc.currentEditCell.row&&coordinates.column===this._svc.currentEditCell.column||this.startEditRowOrCell(null)),row&&(event.ctrlKey?this._svc.selectOrDeselectRow(row.data):event.shiftKey?this._svc.selectRange(row.data):this._svc.selectRows([row.data])),eventIsOnRow||event.defaultPrevented||(this.editType===EditType.row?this._svc.startEditRow(null):this._svc.startEditCell(null))}))}focusIn(event){const coordinates=this.getCoordinates(event);coordinates&&(this.cellFocus.emit({...this._svc.getCellInstance(coordinates),event}),this.editEvent===EditEvent.focus&&this.startEditRowOrCell(coordinates))}dblclick(event){const coordinates=this.getCoordinates(event);coordinates&&setTimeout((()=>{this.cellDoubleClick.emit({...this._svc.getCellInstance(coordinates),event}),this.editEvent===EditEvent.doubleClick&&this.startEditRowOrCell(coordinates)}))}keydown(event){if(event.ctrlKey)return void("KeyA"===event.code&&(event.preventDefault(),this._svc.selectAll()));"Escape"===event.key&&(this._svc.deselectAll(),this.editType===EditType.row?this._svc.startEditRow(null):this._svc.startEditCell(null));const coordinates=this.getCoordinates(event);if("Enter"===event.key)if(this.editType===EditType.row)this._svc.startEditRow(null);else if(this._svc.currentEditCell){const target=this._svc.getNextRowCell(coordinates);target?this.startEditRowOrCell({row:target.row,column:target.column,event:void 0}):this._svc.startEditCell(null)}if(coordinates){if(this.cellKeyDown.emit({...this._svc.getCellInstance(coordinates),event}),event.key&&(1===event.key.length||"Delete"===event.key)){(this._svc.getColumnByName(coordinates.column).filterType!==filter_type_enum.R.number||isFinite(event.key))&&this.startEditRowOrCell({row:coordinates.row,column:coordinates.column,event})}if("Tab"===event.key&&this._svc.currentEditCell){event.preventDefault();let target=this._svc.getNextEditableCell(coordinates);event.shiftKey&&(target=this._svc.getPreviousEditableCell(coordinates)),target&&this.startEditRowOrCell({row:target.row,column:target.column,event:void 0})}if(!this._svc.currentEditCell){let target;if("ArrowRight"===event.key&&(target=this._svc.getNextCell(coordinates)),"ArrowLeft"===event.key&&(target=this._svc.getPreviousCell(coordinates)),"ArrowUp"===event.key&&(target=this._svc.getPreviousRowCell(coordinates)),"ArrowDown"===event.key&&(target=this._svc.getNextRowCell(coordinates)),target){event.preventDefault();const element=this.getCellElement(target);element?.focus()}}}}mousedown(event){2===event.button&&event.preventDefault()}ngOnInit(){this._svc.restoreState(),this._svc.restoreHiddenColumns(),this.tableService.emit(this._svc)}ngAfterViewInit(){this._headElement=this._elementRef.nativeElement.querySelector(".table-head")}ngOnDestroy(){this._alive=!1}ngOnChanges(changes){Object.prototype.hasOwnProperty.call(changes,"editType")&&(this._svc.editType=this.editType),Object.prototype.hasOwnProperty.call(changes,"selectType")&&(this._svc.selectType=this.selectType),Object.prototype.hasOwnProperty.call(changes,"selectedRows")&&this._svc.selectRows(this.selectedRows),Object.prototype.hasOwnProperty.call(changes,"rowEditable")&&(this._svc.rowEditable=this.rowEditable),Object.prototype.hasOwnProperty.call(changes,"cookieName")&&this._svc.setCookieName(this.cookieName),Object.prototype.hasOwnProperty.call(changes,"columns")&&null!==this.columns&&void 0!==this.columns&&this._svc.setColumns(this.columns),Object.prototype.hasOwnProperty.call(changes,"data")&&(this._svc.setData(this.data),this._svc.selectRows(this.data?.filter((row=>this.selectedRows?.some((selectedRow=>this.trackRow(this._svc.getRowIndex(selectedRow),selectedRow)===this.trackRow(this._svc.getRowIndex(row),row))))))),Object.prototype.hasOwnProperty.call(changes,"dict")&&(this._svc.setDict(this.dict),this._svc.setFilterOptions(this.dict)),Object.prototype.hasOwnProperty.call(changes,"filterOptions")&&this._svc.setFilterOptions(this.filterOptions),Object.prototype.hasOwnProperty.call(changes,"trackRow")&&(this._svc.trackRow=this.trackRow)}setContextMenuOpen(value){this.contextMenuOpen=value,this.contextMenuOpenChange.emit(this.contextMenuOpen)}setContextMenuRow(event){this.contextMenuRow=null;const rowElement=this._svc.getEventRow(event);if(rowElement){const rowIndex=parseInt(rowElement.getAttribute("data-row"),10);rowIndex>=0&&(this.contextMenuRow=this._svc.getRowByIndex(rowIndex).data)}}startEditRowOrCell(coordinates){this.editType===EditType.row&&this._svc.startEditRow(coordinates),this.editType===EditType.cell&&this._svc.startEditCell(coordinates)}getCellElement(coordinates){return this._elementRef.nativeElement.querySelector(`teta-cell[data-row="${coordinates.row}"][data-column="${coordinates.column}"]`)}eventIsOnRow(event){const row=event.composedPath().find((target=>target?.getAttribute&&target?.getAttribute("data-row")));return row&&this._elementRef.nativeElement.contains(row)}getCoordinates(event){if(event.composedPath().indexOf(this._elementRef.nativeElement)<0)return null;const cell=this._svc.getEventCell(event);if(cell){const rowIndex=parseInt(cell.getAttribute("data-row"),10),columnName=cell.getAttribute("data-column");if(rowIndex>=0&&columnName)return{row:rowIndex,column:columnName,event}}return null}getRow(event){if(event.composedPath().indexOf(this._elementRef.nativeElement)<0)return null;const rowElement=this._svc.getEventRow(event);if(rowElement){const rowIndex=parseInt(rowElement.getAttribute("data-row"),10);if(rowIndex>=0)return this._svc.getRowByIndex(rowIndex)}return null}static#_=this.ctorParameters=()=>[{type:TableService},{type:core.ElementRef}];static#_2=this.propDecorators={data:[{type:core.Input}],columns:[{type:core.Input}],dict:[{type:core.Input}],filterOptions:[{type:core.Input}],state:[{type:core.Input}],cookieName:[{type:core.Input}],virtual:[{type:core.Input}],detailComponent:[{type:core.Input}],activeRow:[{type:core.Input}],selectedRows:[{type:core.Input}],selectType:[{type:core.Input}],aggregate:[{type:core.Input}],trackRow:[{type:core.Input}],trackColumns:[{type:core.Input}],editType:[{type:core.Input}],editEvent:[{type:core.Input}],rowEditable:[{type:core.Input}],rowClass:[{type:core.Input}],scrollToIndex:[{type:core.Input}],showHeadCellMenu:[{type:core.Input}],contextMenu:[{type:core.Input}],contextMenuOpen:[{type:core.Input}],contextMenuOpenChange:[{type:core.Output}],stateChange:[{type:core.Output}],bodyLeft:[{type:core.Output}],activeRowChange:[{type:core.Output}],selectedRowsChange:[{type:core.Output}],cellClick:[{type:core.Output}],cellDoubleClick:[{type:core.Output}],cellFocus:[{type:core.Output}],cellKeyDown:[{type:core.Output}],rowLeft:[{type:core.Output}],rowEditStart:[{type:core.Output}],rowEditEnd:[{type:core.Output}],cellEditStart:[{type:core.Output}],cellEditEnd:[{type:core.Output}],valueChange:[{type:core.Output}],tableService:[{type:core.Output}],menu:[{type:core.ViewChild,args:["contextMenu",{static:!0}]}],tableClass:[{type:core.HostBinding,args:["class.table"]}],handleClickOutsideAnyRow:[{type:core.HostListener,args:["document:click",["$event"]]}],focusIn:[{type:core.HostListener,args:["focusin",["$event"]]}],dblclick:[{type:core.HostListener,args:["dblclick",["$event"]]}],keydown:[{type:core.HostListener,args:["keydown",["$event"]]}],mousedown:[{type:core.HostListener,args:["mousedown",["$event"]]}]}};TableComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-table",template:"<div class='column column_auto'>\n  <teta-table-head\n    style='z-index: 1'\n    [selectType]='selectType'\n    [showHeadCellMenu]='showHeadCellMenu'></teta-table-head>\n  <div class='column column_auto position-relative'\n       style='z-index: 0'\n       [tetaContextMenu]='contextMenu'\n       [verticalAlign]='verticalAlign.auto'\n       [align]='align.auto'\n       [appendToBody]='true'\n       [data]='contextMenuRow'\n       [open]='contextMenuOpen'\n       (openChange)='setContextMenuOpen($event)'>\n    <teta-table-body\n      (contextmenu)='setContextMenuRow($event)'\n      (scrollChange)='onScroll($event)'\n      [aggregate]='aggregate'\n      [virtual]='virtual'\n      [activeRow]='activeRow'\n      [trackRow]='trackRow'\n      [trackColumns]='trackColumns'\n      [selectedRows]='selectedRowsList'\n      [additionalComponent]='detailComponent'\n      [selectType]='selectType'\n      [rowClass]='rowClass'>\n      <ng-content></ng-content>\n    </teta-table-body>\n  </div>\n</div>\n",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[TableService],standalone:!0,imports:[TableHeadComponent,context_menu_directive.Q,TableBodyComponent],styles:[table_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[TableService,core.ElementRef])],TableComponent);let TableDemoComponent=class TableDemoComponent{constructor(){this.dict={ram:[{id:8,name:"8"},{id:16,name:"16"},{id:32,name:"32"},{id:64,name:"64"},{id:128,name:"128"}],long:[]},this.data=[],this.columns=[],this.log=(name,value)=>{console.log(name,value)},this.getData=size=>{const res=[];for(let i=0;i<size;i++)res.push({name:`${faker.name.firstName()} ${faker.name.lastName()}`,date:faker.date.between(new Date(2010,0,1),new Date(2021,0,1)),long:faker.helpers.randomize([0,1,2,3,4,5,6,7,8,9,10]),value:faker.datatype.number({min:0,max:100}),summary:faker.datatype.number({min:0,max:1e5}),ram:faker.helpers.randomize([8,16,32,64,128]),address:faker.address.streetAddress(),state:faker.address.state(),city:faker.address.city(),zip:faker.address.zipCode()});return res},this.getLong=()=>{const res=[];for(let i=0;i<=10;i++)res.push({id:i,name:`${faker.address.city()} ${faker.address.country()} ${faker.address.state()} ${faker.address.zipCode()}`});return res},this.dict.long=this.getLong()}keydown(event){event.stopPropagation()}ngOnInit(){this.data=this.getData(this.size),this.columns=[new table_column.V({name:"name",flex:1,locked:!0,unit:"v",filterType:filter_type_enum.R.string,headDropdownConfig:{strategy:"replace",tabs:[{template:this.dropdownTpl,icon:"fx",order:15,showTab:()=>!0}]}}),new table_column.V({name:"city",filterType:filter_type_enum.R.string,locked:!0,editable:!1}),new table_column.V({name:"date",locked:!0,filterType:filter_type_enum.R.date}),new table_column.V({name:"long",locked:!0,filterType:filter_type_enum.R.list}),new table_column.V({name:"value",locked:!0,filterType:filter_type_enum.R.number}),new table_column.V({name:"summary",filterType:filter_type_enum.R.number}),new table_column.V({name:"ram",unit:"Gb",caption:"RAM",filterType:filter_type_enum.R.list}),new table_column.V({name:"location",columns:[new table_column.V({name:"state",filterType:filter_type_enum.R.string}),new table_column.V({name:"address",flex:2,filterType:filter_type_enum.R.string}),new table_column.V({name:"zip",filterType:filter_type_enum.R.string})]})]}cellEditStart(event){}addRow(){}delete(selectedRows){this.data=this.data.filter((row=>selectedRows.findIndex((_=>_===row))<0))}deleteAll(){}copy(){navigator.clipboard.writeText(this.toClipboardString([this.activeRow],this.tableService.getVisibleColumns()))}copyAll(){navigator.clipboard.writeText(this.toClipboardString(this.selectedRows,this.tableService.getVisibleColumns()))}paste(){var _this=this;return(0,asyncToGenerator.A)((function*(){const result=yield navigator.clipboard.readText();console.log(_this.fromClipboard(result,_this.tableService.getVisibleColumns()))}))()}toClipboardString(rows,columns){return rows.reduce(((res,currentRow,i)=>`${res}${0===i?"":"\n"}${columns.reduce(((columnResult,column,j)=>`${columnResult}${0===j?"":"\t"}${currentRow[column.name]??""}`),"")}`),"")}fromClipboard(data,columns){return data.split("\n").filter((_=>_?.length>0)).map((_=>_.replace("\r","").replace("\n","").split("\t"))).map((row=>row.reduce(((res,item,index)=>{let value=item;return columns[index]?.filterType!==filter_type_enum.R.number&&columns[index]?.filterType!==filter_type_enum.R.list||(value=parseFloat(item)),columns[index]?.filterType===filter_type_enum.R.boolean&&(value=Boolean(JSON.parse(item.toLowerCase()))),columns[index]&&(res[columns[index].name]=value),res}),{})))}static#_=this.ctorParameters=()=>[];static#_2=this.propDecorators={size:[{type:core.Input}],virtual:[{type:core.Input}],editType:[{type:core.Input}],selectType:[{type:core.Input}],editEvent:[{type:core.Input}],dropdownTpl:[{type:core.ViewChild,args:[core.TemplateRef,{read:core.TemplateRef,static:!0}]}],contextMenu:[{type:core.ViewChild,args:[core.TemplateRef,{read:core.TemplateRef,static:!0}]}],keydown:[{type:core.HostListener,args:["keydown",["$event"]]},{type:core.HostListener,args:["keyup",["$event"]]},{type:core.HostListener,args:["keypress",["$event"]]}]}};TableDemoComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"teta-table-demo",template:'<teta-toolbar>\n  <button teta-button\n    (click)=\'delete(selectedRows)\'\n    [square]=\'true\'\n    [palette]=\'"text"\'\n    [view]=\'"ghost"\'>\n    <teta-icon [name]=\'"delete"\' [palette]="\'text\'"></teta-icon>\n  </button>\n</teta-toolbar>\n<teta-table [data]="data"\n  [cookieName]="\'table-stories\'"\n  [columns]="columns"\n  [virtual]="virtual"\n  [dict]="dict"\n  [contextMenu]="contextMenu"\n  [filterOptions]="dict"\n  [editType]="editType"\n  [editEvent]="editEvent"\n  [selectType]="selectType"\n  [(selectedRows)]="selectedRows"\n  (tableService)="tableService = $event"\n  (cellEditEnd)="log(\'cellEditEnd\', $event)"\n  (cellEditStart)="cellEditStart($event)"\n  (rowEditEnd)="log(\'rowEditEnd\', $event)"\n  (rowEditStart)="log(\'rowEditStart\', $event)"\n(activeRowChange)="activeRow = $event"></teta-table>\n<ng-template let-data #dropdownTpl>\n  <div class="padding-2">\n    Some additional stuff here\n  </div>\n</ng-template>\n<ng-template let-data #contextMenu>\n  <div class="list shadow-2">\n    <div class="list-item list-item_interactive"\n      (click)="addRow()">Добавить строку\n    </div>\n    <div class="list-divider"></div>\n    <div class="list-item list-item_interactive"\n      (click)="copy()">Copy\n    </div>\n    @if (selectedRows?.length > 0) {\n      <div class="list-item list-item_interactive"\n        (click)="copyAll()">Copy selected\n      </div>\n    }\n    <div class="list-item list-item_interactive"\n      (click)="paste()">Paste\n    </div>\n    <div class="list-divider"></div>\n    <div class="list-item list-item_interactive"\n      (click)="delete(selectedRows)">Удалить\n    </div>\n    @if (selectedRows?.length > 0) {\n      <div class="list-item list-item_interactive"\n        (click)="deleteAll()">Удалить выделенные\n      </div>\n    }\n    {{activeRow.name | json}}\n  </div>\n</ng-template>\n',standalone:!0,imports:[toolbar_component.H,button_component.Q,icon_component.R,TableComponent,common.JsonPipe],styles:[table_demo_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[])],TableDemoComponent);var icon_sprite_directive=__webpack_require__("./projects/components/src/component/icon/icon-sprite.directive.ts");const Table_stories={title:"Component/Table",decorators:[(0,dist.applicationConfig)({providers:[(0,core.importProvidersFrom)(http.q1)]})],argTypes:{selectType:{options:["SelectType.none","SelectType.checkBox","SelectType.mouse"],control:{type:"select"}},editType:{options:["EditType.row","EditType.cell"],control:{type:"select"}},editEvent:{options:["EditEvent.focus","EditEvent.click","EditEvent.doubleClick"],control:{type:"select"}}},args:{selectType:"SelectType.none",editType:"EditType.cell",editEvent:"EditEvent.doubleClick"},moduleMetadata:{imports:[]}},selectTypeMap=(new Map).set("SelectType.none",SelectType.none).set("SelectType.checkBox",SelectType.checkBox).set("SelectType.mouse",SelectType.mouse),editEventMap=(new Map).set("EditEvent.focus",EditEvent.focus).set("EditEvent.click",EditEvent.click).set("EditEvent.doubleClick",EditEvent.doubleClick),editTypeMap=(new Map).set("EditType.row",EditType.row).set("EditType.cell",EditType.cell),basicTable=args=>({moduleMetadata:{imports:[TableDemoComponent,icon_sprite_directive._]},props:{...args,selectTypeMap,editEventMap,editTypeMap},template:'<div [tetaIconSprite]="[\'assets/icons.svg\', \'assets/color-icons.svg\']"\n                  class="bg-panel-0 padding-10"\n                  style="display: flex; width: 1200px; height: 600px;">\n                <teta-table-demo [size]="50"\n                                  [editEvent]="editEventMap.get(editEvent)"\n                                  [editType]="editTypeMap.get(editType)"\n                                  [selectType]="selectTypeMap.get(selectType)"\n                                  [virtual]="false"></teta-table-demo>\n            </div>'}),virtualTable=args=>({moduleMetadata:{imports:[TableDemoComponent,icon_sprite_directive._]},props:{...args,selectTypeMap,editEventMap,editTypeMap},template:'<div [tetaIconSprite]="[\'assets/icons.svg\', \'assets/color-icons.svg\']"\n                  class="bg-panel-0 padding-10"\n                  style="display: flex; width: 1200px; height: 600px;">\n                <teta-table-demo [size]="100"\n                                  [editEvent]="editEvent"\n                                  [editType]="editType"\n                                  [selectType]="selectType"\n                                  [virtual]="true"></teta-table-demo>\n            </div>'});basicTable.parameters={...basicTable.parameters,docs:{...basicTable.parameters?.docs,source:{originalSource:'args => ({\n  moduleMetadata: {\n    imports: [TableDemoComponent, IconSpriteDirective]\n  },\n  props: {\n    ...args,\n    selectTypeMap,\n    editEventMap,\n    editTypeMap\n  },\n  template: `<div [tetaIconSprite]="[\'assets/icons.svg\', \'assets/color-icons.svg\']"\n                  class="bg-panel-0 padding-10"\n                  style="display: flex; width: 1200px; height: 600px;">\n                <teta-table-demo [size]="50"\n                                  [editEvent]="editEventMap.get(editEvent)"\n                                  [editType]="editTypeMap.get(editType)"\n                                  [selectType]="selectTypeMap.get(selectType)"\n                                  [virtual]="false"></teta-table-demo>\n            </div>`\n})',...basicTable.parameters?.docs?.source}}},virtualTable.parameters={...virtualTable.parameters,docs:{...virtualTable.parameters?.docs,source:{originalSource:'args => ({\n  moduleMetadata: {\n    imports: [TableDemoComponent, IconSpriteDirective]\n  },\n  props: {\n    ...args,\n    selectTypeMap,\n    editEventMap,\n    editTypeMap\n  },\n  template: `<div [tetaIconSprite]="[\'assets/icons.svg\', \'assets/color-icons.svg\']"\n                  class="bg-panel-0 padding-10"\n                  style="display: flex; width: 1200px; height: 600px;">\n                <teta-table-demo [size]="100"\n                                  [editEvent]="editEvent"\n                                  [editType]="editType"\n                                  [selectType]="selectType"\n                                  [virtual]="true"></teta-table-demo>\n            </div>`\n})',...virtualTable.parameters?.docs?.source}}};const __namedExportsOrder=["basicTable","virtualTable"]},"./projects/components/src/component/checkbox/checkbox/checkbox.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/filter/boolean-filter/boolean-filter.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/filter/date-filter/date-filter.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/filter/list-filter/list-filter.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  min-height: 0;\n  min-width: 0;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/filter/numeric-filter/numeric-filter.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/filter/string-filter/string-filter.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/radio/radio-button/radio-button.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/radio/radio/radio.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/cell-host/cell-host.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/cell/cell.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/default/boolean-cell/boolean-cell.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/default/date-cell/date-cell.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/default/default-head-cell/default-head-cell.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  min-width: 0;\n  padding: 6px 8px;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/default/list-cell/list-cell.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/default/numeric-cell/numeric-cell.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/default/string-cell/string-cell.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/head-cell-dropdown/head-cell-dropdown.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  flex-grow: 1;\n  min-height: 0;\n  min-width: 250px;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/head-cell-host/head-cell-host.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: contents;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/head-cell/head-cell.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".drop-area {\n  position: absolute;\n  width: 1px;\n  background: var(--color-text-50);\n  top: 0;\n  bottom: 0;\n  z-index: 10;\n}\n.drop-area_left {\n  left: -1px;\n}\n.drop-area_right {\n  right: -1px;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/selection-cell/selection-cell.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/selection-head-cell/selection-head-cell.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/table-body/table-body.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/table-demo/table-demo/table-demo.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  min-width: 0;\n  min-height: 0;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/table-head-group/table-head-group.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/table-head/filter-dropdown-tab/filter-dropdown-tab.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  min-width: 0;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/table-head/main-dropdown-tab/main-dropdown-tab.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  flex-direction: column;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/table-head/table-head.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/table-head/visibility-dropdown-tab/visibility-dropdown-tab.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  min-height: 0;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/table/table/table.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/tabs/tab/tab.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/tabs/tabs/tabs.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/toolbar/toolbar/toolbar.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/tree/tree-item-toggle/tree-item-toggle.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: inline-flex;\n  align-items: center;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/tree/tree-item/tree-item.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/tree/tree/tree.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./node_modules/object-hash/dist sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/object-hash/dist sync recursive",module.exports=webpackEmptyContext}}]);