(self.webpackChunkteta_components=self.webpackChunkteta_components||[]).push([[8418],{"./projects/components/src/component/three/three.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{customSeries:()=>customSeries,default:()=>three_stories,lithotypeChart:()=>lithotypeChart});var icon_module=__webpack_require__("./projects/components/src/component/icon/icon.module.ts"),dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),http=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var three_chart_componentngResource=__webpack_require__("./projects/components/src/component/three/three-chart/three-chart.component.scss?ngResource"),three_chart_componentngResource_default=__webpack_require__.n(three_chart_componentngResource),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),angular_three=__webpack_require__("./node_modules/angular-three/fesm2022/angular-three.mjs"),three_module=__webpack_require__("./node_modules/three/build/three.module.js");var angular_three_soba_controls=__webpack_require__("./node_modules/angular-three-soba/fesm2022/angular-three-soba-controls.mjs");(0,angular_three.l7)(three_module);let Area3dComponent=class Area3dComponent{constructor(){this.THREE=three_module}createArea(){const grids=[];return grids.push(this.getMainGrid()),grids.push(...this.createGrid(4,25,3,"vertical")),grids.push(...this.createGrid(4,25,3,"horizontal")),grids}getMainGrid(){const mainGrid=new three_module.GridHelper(100,12);return mainGrid.position.set(0,0,0),mainGrid.rotateZ(Math.PI/2),mainGrid}createGrid(gridsCount,gridSize,rectsInGrid,direction){const plane=[];for(let p=0;p<=gridsCount-1;p++)switch(plane[p]=new three_module.GridHelper(gridSize,rectsInGrid,"#666","#666"),plane[p].renderOrder=-1,direction){case"horizontal":plane[p].position.set(gridSize/2,-50,gridSize*p+gridSize/2-50);break;case"vertical":plane[p].position.set(gridSize/2,gridSize*p+gridSize/2-50,-50),plane[p].rotateZ(Math.PI/2),plane[p].rotateX(Math.PI/2)}return plane}ngOnInit(){this.area=this.createArea()}};Area3dComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"teta-area-3d",template:'<ngt-mesh>\n  <ngt-mesh-basic-material [side]="THREE.DoubleSide"></ngt-mesh-basic-material>\n  <ng-container *ngFor="let rect of area">\n    <ngt-primitive *args="[rect]"></ngt-primitive>\n  </ng-container>\n</ngt-mesh>\n',standalone:!0,imports:[common.CommonModule,angular_three.Bj],changeDetection:core.ChangeDetectionStrategy.OnPush,schemas:[core.CUSTOM_ELEMENTS_SCHEMA]})],Area3dComponent);var _class,angular_three_soba_abstractions=__webpack_require__("./node_modules/angular-three-soba/fesm2022/angular-three-soba-abstractions.mjs"),src=__webpack_require__("./node_modules/d3/src/index.js"),ReplaySubject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/ReplaySubject.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),shareReplay=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js");let Chart3dService=((_class=class Chart3dService{constructor(){this.data$=new ReplaySubject.t(1),this.data=this.data$.asObservable(),this.minMax=this.data.pipe((0,map.U)((_=>this.getAxesMinMax(_)))),this.scales=this.minMax.pipe((0,map.U)((minMax=>this.getScales(minMax))),(0,shareReplay.d)(1))}setData(data){this.data$.next(data)}getAxesMinMax(data){const zArr=data.series.map((_=>_?.data?.map((d=>d?.z)))).flat().filter((_=>null!=_)),xArr=data.series.map((_=>_?.data?.map((d=>d?.x)))).flat().filter((_=>null!=_)),yArr=data.series.map((_=>_?.data?.map((d=>d?.y)))).flat().filter((_=>null!=_)),ZMinMaxVal=[Math.min(...zArr),Math.max(...zArr)],XMinMaxVal=[Math.min(...xArr),Math.max(...xArr)],YMinMaxVal=[Math.min(...yArr),Math.max(...yArr)];return{z:this.getMinMaxRange(ZMinMaxVal,data.zAxis?.min,data.zAxis?.max),x:this.getMinMaxRange(XMinMaxVal,data.xAxis?.min,data.xAxis?.max),y:this.getMinMaxRange(YMinMaxVal,data.yAxis?.min,data.yAxis?.max)}}getMinMaxRange(minMax,axisMin,axisMax){return[axisMin||(Math.abs(minMax[0]-minMax[1])<1e-7?minMax[0]-.1*Math.abs(minMax[0]-1):minMax[0]),axisMax||(Math.abs(minMax[0]-minMax[1])<1e-7?minMax[1]+.1*Math.abs(minMax[1]+1):minMax[1])]}getScales(axesMinMax){const z=src.BYU().domain(axesMinMax.z).range([50,-50]);return{x:src.BYU().domain(axesMinMax.x).range([25,0]),y:src.BYU().domain(axesMinMax.y).range([50,-50]),z}}}).ctorParameters=()=>[],_class);Chart3dService=(0,tslib_es6.gn)([(0,core.Injectable)({providedIn:"root"})],Chart3dService);var axes_3d_component_class,combineLatest=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js"),takeWhile=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/takeWhile.js");(0,angular_three.l7)(three_module);let Axes3dComponent=((axes_3d_component_class=class Axes3dComponent{constructor(){this._alive=!0,this.chartService=(0,core.inject)(Chart3dService),this.axes=(0,combineLatest.a)([this.chartService.scales,this.chartService.minMax]).pipe((0,takeWhile.o)((()=>this._alive)),(0,map.U)((([scales,minMax])=>this.createAxes(scales,minMax))))}createAxes(scales,minMax){return{z:this.generateTicks(minMax.z,12).map((_=>({value:_.toFixed(1),position:scales.z(_)}))),y:this.generateTicks(minMax.y,12).map((_=>({value:_.toFixed(1),position:scales.y(_)}))),x:this.generateTicks(minMax.x,4).map((_=>({value:_.toFixed(1),position:scales.x(_)})))}}generateTicks(extremes,count=10){const[min,max]=extremes,tickStep=(max-min)/count;return src.w6H(min,max+tickStep,tickStep).filter((step=>step<=max))}trackBy(i){return i}ngOnDestroy(){this._alive=!1}}).ctorParameters=()=>[],axes_3d_component_class.propDecorators={rotation:[{type:core.Input}]},axes_3d_component_class);Axes3dComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"teta-axes-3d",template:"<ng-container *ngIf='{axes:axes|async}as data'>\n  <ngts-text *ngFor='let tick of data.axes?.x;let i=index; trackBy: trackBy' [text]=\"tick.value+'-'\"\n             [color]=\"'var(--color-text-90)'\"\n             [rotation]='rotation'\n             [fontSize]='2.5'\n             [position]='[tick.position, -50, 50]'\n             [anchorX]=\"'right'\"\n             [anchorY]=\"'middle'\"\n             [textAlign]=\"'right'\"\n  ></ngts-text>\n  <ngts-text *ngFor='let tick of data.axes?.y;let i=index; trackBy: trackBy' [text]=\"tick.value+'-'\"\n             [color]=\"'var(--color-text-90)'\"\n             [rotation]='rotation'\n             [fontSize]='2.5'\n             [position]='[0,tick.position,50]'\n             [anchorX]=\"'right'\"\n             [anchorY]=\"'middle'\"\n             [textAlign]=\"'right'\"\n  ></ngts-text>\n  <ngts-text *ngFor='let tick of data.axes?.z;let i=index; trackBy: trackBy' [text]='tick.value'\n             [color]=\"'var(--color-text-90)'\"\n             [rotation]='rotation'\n             [fontSize]='2.5'\n             [position]='[25,-50,tick.position]'\n  ></ngts-text>\n</ng-container>\n",standalone:!0,imports:[common.CommonModule,angular_three_soba_abstractions.ne],schemas:[core.CUSTOM_ELEMENTS_SCHEMA],changeDetection:core.ChangeDetectionStrategy.OnPush})],Axes3dComponent);var base3d_series_component_class,base3d_series_componentngResource=__webpack_require__("./projects/components/src/component/three/three-chart/base-3d-series/base3d-series.component.scss?ngResource"),base3d_series_componentngResource_default=__webpack_require__.n(base3d_series_componentngResource);let Base3dSeriesComponent=((base3d_series_component_class=class Base3dSeriesComponent{set series(series){this._series=series}get series(){return this._series}constructor(svc,ngtStore){this.svc=svc,this.ngtStore=ngtStore}}).ctorParameters=()=>[{type:Chart3dService},{type:angular_three.W7}],base3d_series_component_class.propDecorators={series:[{type:core.Input}]},base3d_series_component_class);var block_3d_component_class;Base3dSeriesComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"teta-base3d-series",standalone:!0,imports:[common.CommonModule],template:"<p>base3d-series works!</p>\n",styles:[base3d_series_componentngResource_default()]})],Base3dSeriesComponent),(0,angular_three.l7)(three_module);let Block3dComponent=((block_3d_component_class=class Block3dComponent extends Base3dSeriesComponent{constructor(svc,ngtStore){super(svc,ngtStore),this.svc=svc,this.ngtStore=ngtStore,this._alive=!0,this.Math=Math,this.blocks=this.svc.scales.pipe((0,takeWhile.o)((()=>this._alive)),(0,map.U)((scales=>this.series?.data?.map((_=>this.createSVGTexture(scales.y(_?.y),scales.y(_?.y1),_?.iconId))))))}createSVGTexture(y,y1,iconId){const max=Math.max(y,y1),min=Math.min(y,y1),height=Math.abs(max-min),icon=iconId?document.querySelector(`#${iconId}`):null,svgString=icon?`<svg width='100' height='100' viewBox='0 0 16 16' fill='none'  xmlns='http://www.w3.org/2000/svg'>${icon?.innerHTML}</svg>`:null,texture=(new three_module.TextureLoader).load(`data:image/svg+xml;charset=utf-8,${encodeURIComponent(svgString)}`),plane=this.createTexturedPlane(texture,100,height,!!icon),plane1=this.createTexturedPlane(texture,25,height,!!icon);return plane.rotation.set(0,Math.PI/2,0),plane.position.set(.17,min+height/2,0),plane1.position.set(12.5,min+height/2,-49.83),[{component:plane,position:min+height/2},{component:plane1,position:min+height/2}]}createTexturedPlane(texture,width,height,visible){texture.wrapS=three_module.RepeatWrapping,texture.wrapT=three_module.RepeatWrapping,texture.repeat.set(10,height/9);const material=new three_module.MeshBasicMaterial({map:texture,visible}),geometry=new three_module.PlaneGeometry(width,height,1,1),uvs=geometry.attributes.uv.array,newUvs=new Float32Array(uvs);return newUvs[0]=0,newUvs[1]=1,newUvs[2]=width/100,newUvs[3]=1,newUvs[4]=0,newUvs[5]=0,newUvs[6]=width/100,newUvs[7]=0,geometry.attributes.uv.needsUpdate=!0,geometry.setAttribute("uv",new three_module.BufferAttribute(newUvs,2)),new three_module.Mesh(geometry,material)}ngOnDestroy(){this._alive=!1}}).ctorParameters=()=>[{type:Chart3dService},{type:angular_three.W7}],block_3d_component_class);Block3dComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"teta-block-3d",template:"<ng-container *ngIf='{\n    blocks: blocks | async,\n    scales: svc.scales | async\n  } as data'>\n  <ng-container *ngFor='let mesh of data.blocks; let i=index'>\n    <ngt-primitive *args='[mesh[0].component]'></ngt-primitive>\n    <ngts-text [text]='series.data[i].name'\n               color='black'\n               [fontSize]='2.5'\n               [rotation]='[0,Math.PI/2,0]'\n               [position]='[1,mesh[0].position,5]'\n               [textAlign]=\"'left'\"\n               [anchorX]=\"'center'\"\n               [anchorY]=\"'middle'\"></ngts-text>\n    <ngt-primitive *args='[mesh[1].component]'></ngt-primitive>\n  </ng-container>\n</ng-container>\n\n",standalone:!0,changeDetection:core.ChangeDetectionStrategy.OnPush,imports:[common.CommonModule,angular_three.Bj,angular_three_soba_abstractions.ne],schemas:[core.CUSTOM_ELEMENTS_SCHEMA]})],Block3dComponent);var line_3d_component_class;(0,angular_three.l7)(three_module);let Line3dComponent=((line_3d_component_class=class Line3dComponent extends Base3dSeriesComponent{constructor(svc,ngtStore){super(svc,ngtStore),this.svc=svc,this.ngtStore=ngtStore,this._alive=!0,this.Math=Math,this.points=this.svc.scales.pipe((0,takeWhile.o)((()=>this._alive)),(0,map.U)((scales=>this.getPoints(scales))))}getPoints(scales){return this.series?.data?.map((_=>[scales.x(_?.x),scales.y(_?.y),scales.z(_?.z)]))}ngOnDestroy(){this._alive=!1}}).ctorParameters=()=>[{type:Chart3dService},{type:angular_three.W7}],line_3d_component_class);var Series3dType,series_3d_host_class;Line3dComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"teta-line-3d",standalone:!0,changeDetection:core.ChangeDetectionStrategy.OnPush,imports:[common.CommonModule,angular_three_soba_abstractions.ER,angular_three.Bj],schemas:[core.CUSTOM_ELEMENTS_SCHEMA],template:'<ng-container *ngIf="{points:points|async}as data">\n  <ngt-mesh *ngIf="data?.points?.length">\n    <ngts-line [color]="series.color" [lineWidth]="2" [points]="data.points"></ngts-line>\n    <ngt-line-basic-material></ngt-line-basic-material>\n  </ngt-mesh>\n</ng-container>\n'})],Line3dComponent),function(Series3dType){Series3dType[Series3dType.line=0]="line",Series3dType[Series3dType.block=1]="block"}(Series3dType||(Series3dType={}));let Series3dHost=((series_3d_host_class=class Series3dHost{constructor(viewContainerRef){this.viewContainerRef=viewContainerRef,this.seriesMap=(new Map).set(Series3dType.line,Line3dComponent).set(Series3dType.block,Block3dComponent),this._init=!1}ngOnInit(){Object.prototype.isPrototypeOf.call(Base3dSeriesComponent,this.series.component)||(this.series.component=this.seriesMap.get(this.series.type)),this._componentRef=this.viewContainerRef.createComponent(this.series.component),this._componentRef.instance.series=this.series,this._init=!0}ngOnChanges(changes){this._init&&(Object.prototype.hasOwnProperty.call(changes,"series")||changes.hasOwnProperty("config"))&&(this._componentRef.instance.series=this.series,this._componentRef.injector.get(core.ChangeDetectorRef).detectChanges())}}).ctorParameters=()=>[{type:core.ViewContainerRef}],series_3d_host_class.propDecorators={series:[{type:core.Input}]},series_3d_host_class);var scene_component_class;Series3dHost=(0,tslib_es6.gn)([(0,core.Component)({selector:"[teta-series-3d-host]",template:"",standalone:!0,changeDetection:core.ChangeDetectionStrategy.OnPush})],Series3dHost);let SceneComponent=((scene_component_class=class SceneComponent{constructor(){this.store=(0,core.inject)(angular_three.W7),this.Math=Math,this.chartService=(0,core.inject)(Chart3dService),this._cdr=(0,core.inject)(core.ChangeDetectorRef),this.data=this.chartService.data}setRotation(){this.rotation=null,this._cdr.detectChanges(),this.rotation=this.store.get("camera").rotation,this._cdr.detectChanges()}ngOnInit(){this.rotation=this.store.get("camera").rotation}}).ctorParameters=()=>[],scene_component_class);SceneComponent=(0,tslib_es6.gn)([(0,core.Component)({standalone:!0,selector:"teta-scene",template:"<ng-container *ngIf='{data:data|async} as config'>\n  <ngt-scene>\n    <ngts-orbit-controls [minAzimuthAngle]='0'\n                         [maxAzimuthAngle]='Math.PI/2'\n                         [maxZoom]='30'\n                         [minZoom]='2'\n                         (change)='setRotation()'></ngts-orbit-controls>\n  </ngt-scene>\n  <teta-area-3d></teta-area-3d>\n  <ng-container *ngFor='let s of config.data?.series;'>\n    <div teta-series-3d-host [series]='s'></div>\n  </ng-container>\n  <teta-axes-3d [rotation]='rotation'></teta-axes-3d>\n</ng-container>\n\n\n",changeDetection:core.ChangeDetectionStrategy.OnPush,imports:[angular_three_soba_controls.g,common.CommonModule,Area3dComponent,Line3dComponent,Axes3dComponent,Block3dComponent,Series3dHost],schemas:[core.CUSTOM_ELEMENTS_SCHEMA]})],SceneComponent);var canvas_component_class,canvas_componentngResource=__webpack_require__("./projects/components/src/component/three/three-chart/canvas/canvas.component.scss?ngResource"),canvas_componentngResource_default=__webpack_require__.n(canvas_componentngResource);let CanvasComponent=((canvas_component_class=class CanvasComponent{}).propDecorators={scene:[{type:core.Input}],camera:[{type:core.Input}],data:[{type:core.Input}]},canvas_component_class);var canvas_3d_host_class;CanvasComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"teta-canvas",standalone:!0,template:'<ngt-canvas *ngIf="data?.series?.length;else noData" [sceneGraph]="scene"\n            [camera]="camera">\n</ngt-canvas>\n<ng-template #noData>\n  <p>{{data?.noDataText || \'no data\'}}</p>\n</ng-template>\n',schemas:[core.CUSTOM_ELEMENTS_SCHEMA],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[angular_three.W7],imports:[angular_three.B3,SceneComponent,common.CommonModule],styles:[canvas_componentngResource_default()]})],CanvasComponent);let Canvas3dHost=((canvas_3d_host_class=class Canvas3dHost{constructor(viewContainerRef){this.viewContainerRef=viewContainerRef,this._init=!1}ngOnInit(){this.createCanvas(),this._init=!0}ngOnChanges(){this._init&&(this.createCanvas(),this._componentRef.injector.get(core.ChangeDetectorRef).detectChanges())}createCanvas(){this.viewContainerRef.clear(),this._componentRef=this.viewContainerRef.createComponent(CanvasComponent),this._componentRef.instance.scene=this.scene,this._componentRef.instance.camera=this.camera,this._componentRef.instance.data=this.data}}).ctorParameters=()=>[{type:core.ViewContainerRef}],canvas_3d_host_class.propDecorators={scene:[{type:core.Input}],camera:[{type:core.Input}],data:[{type:core.Input}]},canvas_3d_host_class);var three_chart_component_class;Canvas3dHost=(0,tslib_es6.gn)([(0,core.Component)({selector:"[teta-canvas-3d-host]",template:"",standalone:!0,changeDetection:core.ChangeDetectionStrategy.OnPush})],Canvas3dHost),(0,angular_three.l7)(three_module);let ThreeChartComponent=((three_chart_component_class=class ThreeChartComponent{constructor(){this.chartService=(0,core.inject)(Chart3dService),this.store=(0,core.inject)(angular_three.W7),this.cdr=(0,core.inject)(core.ChangeDetectorRef)}ngOnInit(){this.scene=SceneComponent,this.camera=new three_module.OrthographicCamera(20,20,20,20,.1,1e3),this.camera.position.set(100,20,70),this.camera.zoom=4.5,this.camera.updateProjectionMatrix()}ngOnChanges(changes){this.data?.series?.length&&this.chartService.setData(this.data)}}).propDecorators={data:[{type:core.Input}]},three_chart_component_class);ThreeChartComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"teta-three-chart",template:'<div  class="column_auto column justify-content-center align-center" style="height: 100%;width: 100%;">\n  <div teta-canvas-3d-host [camera]="camera" [data]="data" [scene]="scene"></div>\n</div>\n',standalone:!0,schemas:[core.CUSTOM_ELEMENTS_SCHEMA],changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[angular_three.W7],imports:[angular_three.B3,SceneComponent,common.CommonModule,CanvasComponent,Canvas3dHost],styles:[three_chart_componentngResource_default()]})],ThreeChartComponent);var custom_series_component_class;(0,angular_three.l7)(three_module);let CustomSeriesComponent=((custom_series_component_class=class CustomSeriesComponent extends Base3dSeriesComponent{constructor(svc,ngtStore){super(svc,ngtStore),this.svc=svc,this.ngtStore=ngtStore,this.scales=this.svc.scales}ngOnInit(){setTimeout((()=>{this.ngtStore.get("camera").zoom=2,this.ngtStore.get("camera").updateProjectionMatrix()}),1e3)}}).ctorParameters=()=>[{type:Chart3dService},{type:angular_three.W7}],custom_series_component_class);CustomSeriesComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"teta-custom-series",standalone:!0,imports:[common.CommonModule,angular_three.Bj],schemas:[core.CUSTOM_ELEMENTS_SCHEMA],changeDetection:core.ChangeDetectionStrategy.OnPush,template:'<ng-container *ngIf=" {scales:scales|async} as scales">\n    <ngt-mesh [position]="[scales.scales.x(this.series.data[0].x),scales.scales.y(this.series.data[0].y),scales.scales.z(this.series.data[0].z) ]">\n      <ngt-box-geometry   *args="[5,5,5]"></ngt-box-geometry>\n      <ngt-mesh-basic-material></ngt-mesh-basic-material>\n    </ngt-mesh>\n</ng-container>\n'})],CustomSeriesComponent);const three_stories={title:"Component/Three",decorators:[(0,dist.applicationConfig)({providers:[(0,core.importProvidersFrom)(http.JF)]})],component:ThreeChartComponent,moduleMetadata:{imports:[ThreeChartComponent]}},lithotypeChart=()=>({moduleMetadata:{imports:[ThreeChartComponent,icon_module.Q]},props:{data:{noDataText:"s",series:[{type:Series3dType.line,color:"red",data:[{x:0,y:0,z:0},{x:0,y:50,z:2e3}]},{type:Series3dType.line,color:"red",data:[{x:0,y:0,z:0},{x:0,y:70,z:2e3},{x:50,y:700,z:100},{x:150,y:1700,z:1200}]},{type:Series3dType.block,data:[{iconId:"icon1",name:"Гранит",x:0,y:0,y1:100,z:0},{iconId:"icon2",name:"Глина",x:0,y:100,y1:500,z:0},{iconId:"icon3",name:"Грунт",x:0,y:500,y1:4e3,z:0}]}],yAxis:{min:0,max:4e3},xAxis:{min:0,max:1e3}}},template:'<div [tetaIconSprite]="\'assets/lithotype-icons.svg\'" class="font-body-3 padding-3 column column_auto gap-20 content-block " style="width: 1000px;height: 600px">\n                  <teta-three-chart [data]="data"></teta-three-chart>\n    </div>'}),customSeries=()=>({moduleMetadata:{imports:[ThreeChartComponent,icon_module.Q]},props:{data:{noDataText:"s",series:[{type:Series3dType.line,color:"red",component:CustomSeriesComponent,data:[{x:500,y:555,z:333}]}]}},template:'<div [tetaIconSprite]="\'assets/lithotype-icons.svg\'"  class="font-body-3 padding-3 column column_auto gap-20 content-block " style="width: 1000px;height: 600px">\n                  <teta-three-chart [data]="data"></teta-three-chart>\n    </div>'})},"./projects/components/src/component/icon/icon.module.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>IconModule});var _class,IconService_1,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),fesm2022_http=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js");let IconService=((_class=class IconService{constructor(_document,_rendererFactory,_httpBackend,_http){this._document=_document,this._rendererFactory=_rendererFactory,this._httpBackend=_httpBackend,this._http=_http,this._renderer=this._rendererFactory.createRenderer(null,null)}addSprite(url,bypassInterceptors=!0){IconService_1._loaded.indexOf(url)<0&&IconService_1._pending.indexOf(url)<0&&(IconService_1._pending.push(url),this.getSVG(url,bypassInterceptors).subscribe((svg=>{IconService_1._pending=IconService_1._pending.filter((_=>_!==url)),IconService_1._loaded.push(url),this._renderer.insertBefore(this._document.body,svg,this._document.body.firstChild)})))}getSVG(url,bypassInterceptors=!0){return(bypassInterceptors?new fesm2022_http.eN(this._httpBackend):this._http).get(url,{responseType:"text"}).pipe((0,map.U)((svgText=>{const svgEl=this.svgElementFromString(svgText);return this.cloneSVG(svgEl)})))}svgElementFromString(str){const div=this._renderer.createElement("DIV");div.innerHTML=str;const svg=div.querySelector("svg");if(!svg)throw new Error("No SVG found in loaded contents");return svg}cloneSVG(svg){return svg.cloneNode(!0)}})._loaded=[],_class._pending=[],_class.ctorParameters=()=>[{type:void 0,decorators:[{type:core.Inject,args:[common.DOCUMENT]}]},{type:core.RendererFactory2},{type:fesm2022_http.jN},{type:fesm2022_http.eN}],IconService_1=_class);var icon_sprite_directive_class;IconService=IconService_1=(0,tslib_es6.gn)([(0,core.Injectable)({providedIn:"root"})],IconService);let IconSpriteDirective=((icon_sprite_directive_class=class IconSpriteDirective{constructor(_iconService){this._iconService=_iconService,this.bypassInterceptors=!0}ngOnInit(){"string"==typeof this.tetaIconSprite&&this._iconService.addSprite(this.tetaIconSprite,this.bypassInterceptors),this.tetaIconSprite instanceof Array&&this.tetaIconSprite?.length&&this.tetaIconSprite.forEach((sprite=>{this._iconService.addSprite(sprite,this.bypassInterceptors)}))}}).ctorParameters=()=>[{type:IconService}],icon_sprite_directive_class.propDecorators={tetaIconSprite:[{type:core.Input}],bypassInterceptors:[{type:core.Input}]},icon_sprite_directive_class);IconSpriteDirective=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[tetaIconSprite]"})],IconSpriteDirective);var icon_component=__webpack_require__("./projects/components/src/component/icon/icon/icon.component.ts");let IconModule=class IconModule{};IconModule=(0,tslib_es6.gn)([(0,core.NgModule)({declarations:[icon_component.o,IconSpriteDirective],exports:[icon_component.o,IconSpriteDirective],imports:[common.CommonModule,fesm2022_http.JF]})],IconModule)},"./projects/components/src/component/icon/icon/icon.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>IconComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var TetaSize,_class,icon_componentngResource=__webpack_require__("./projects/components/src/component/icon/icon/icon.component.scss?ngResource"),icon_componentngResource_default=__webpack_require__.n(icon_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");!function(TetaSize){TetaSize[TetaSize.XS=0]="XS",TetaSize[TetaSize.S=1]="S",TetaSize[TetaSize.M=2]="M",TetaSize[TetaSize.L=3]="L",TetaSize[TetaSize.XL=4]="XL"}(TetaSize||(TetaSize={}));let IconComponent=((_class=class IconComponent{constructor(){this.size=TetaSize.M}get getClass(){const result=[this.class,"icon"];return this.palette&&result.push(`icon-${this.palette}`),result.join(" ")}getName(){return`#${this.name}`}}).propDecorators={name:[{type:core.Input}],size:[{type:core.Input}],palette:[{type:core.Input}],class:[{type:core.Input}],getClass:[{type:core.HostBinding,args:["class"]}]},_class);IconComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"teta-icon",template:'<svg class="icon__image" style="width: 100%;height: 100%">\n  <use [attr.xlink:href]="getName()"></use>\n</svg>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[icon_componentngResource_default()]})],IconComponent)},"./projects/components/src/component/icon/icon/icon.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/three/three-chart/base-3d-series/base3d-series.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/three/three-chart/canvas/canvas.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  width: 100%;\n  height: 100%;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/components/src/component/three/three-chart/three-chart.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  width: 100%;\n  height: 100%;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);